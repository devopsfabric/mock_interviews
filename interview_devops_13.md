<div align="center">
<a href="https://devops-factory.com" >
  <img src="https://devops-factory.com/images/logogit.png" width="250" alt="DevOps Factory">
</a>
</div>
<div align="center">
    <a style="vertical-align: middle;display: inline-block;">
      <img align="center" src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=14&duration=2000&pause=&color=3DD10D&center=true&vCenter=true&multiline=true&width=435&lines=%D0%A1%D0%B4%D0%B5%D0%BB%D0%B0%D0%BD%D0%BE+%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%B8%D1%81%D1%82%D0%BE%D0%BC+%D0%B8%D0%B7+%D0%BA%D0%BB%D1%83%D0%B1%D0%B0+%D0%BF%D1%80%D0%B8+%D1%84%D0%B0%D0%B1%D1%80%D0%B8%D0%BA%D0%B5;By+Dmitriy+Shmakov" alt="" />
    </a>  
  </a>
</div>

<div align="center">

<a href="https://devops-factory.com">
    <img src="https://img.shields.io/badge/DevOps%20Factory-green?style=for-the-badge" alt=""/>
</div>

<div align="center">
     <a href="=https://www.youtube.com/@devopsfactory">
    <img src="https://img.shields.io/badge/YouTube-red?style=for-the-badge" alt=""/>
   <a href="=https://t.me/@devopsfactory">
    <img src="https://img.shields.io/badge/Telegram-blue?style=for-the-badge" alt=""/>
</div>

# DevOps Interview Knowledge Base

–†–∞–∑–±–æ—Ä **[–º–æ–∫ —Å–æ–±–µ—Å–∞ ‚Ññ13](https://www.youtube.com/watch?v=QqF0656aBPc)** –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–í–æ–ø—Ä–æ—Å ‚Äî –û—Ç–≤–µ—Ç" –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º –Ω–∞ –ø–æ–∑–∏—Ü–∏—é DevOps.

# üìå –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [1. Hardware, dmesg, iso](#1-hardware-dmesg-iso)
- [2. Monitoring](#2-monitoring-alerting)
- [3. Linux](#3-linux)
- [4. Docker](#4-docker)
- [5. Ansible](#5-ansible)
- [6. CI-CD](#6-ci-cd)

---

# 1. Hardware, dmesg, iso

## ‚ùì 1. –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å –∞—Ä–µ–Ω–¥—ã/–ø–æ–∫—É–ø–∫–∏ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –∏ –∫–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –≤ –∏—Ö —Ä–∞–±–æ—Ç–µ?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (02:04)](https://youtu.be/QqF0656aBPc?t=125)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üìå –û–±—â–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞—Ä–µ–Ω–¥—ã / –ø–æ–∫—É–ø–∫–∏ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

### üß≠ –®–∞–≥ 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

–ü–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:

- üî¢ –¢—Ä–µ–±—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã (CPU, RAM, SSD/HDD)
- üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—é —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (—Ä–µ–≥–∏–æ–Ω, –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä)
- üîê –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üìà –û–∂–∏–¥–∞–µ–º—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- üíæ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- üõ† –¢–∏–ø –û–° (Linux / Windows)

### üè¢ –®–∞–≥ 2. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

–ú–æ–¥–µ–ª—å –û–ø–∏—Å–∞–Ω–∏–µ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

---

üñ• IaaS –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–µ—Ä–≤–µ—Ä–æ–º
üß© PaaS –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥–µ–ø–ª–æ–π
üì¶ SaaS –ü–û –∫–∞–∫ —Å–µ—Ä–≤–∏—Å –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### üåê –®–∞–≥ 3. –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

–û—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:

- ‚≠ê –†–µ–ø—É—Ç–∞—Ü–∏—è –∏ SLA (99.9%+ uptime)
- üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å (Pay-as-you-go / —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- üìä –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- üîí –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (ISO, GDPR)
- üõé –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7

–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: - AWS - Microsoft Azure - Google Cloud -
DigitalOcean - Hetzner

### ‚öôÔ∏è –®–∞–≥ 4. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–æ—Ü–µ—Å—Å –æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç:

1.  üß± –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
2.  üì¶ –í—ã–±–æ—Ä –æ–±—Ä–∞–∑–∞ –û–°
3.  üîë –ù–∞—Å—Ç—Ä–æ–π–∫—É SSH-–¥–æ—Å—Ç—É–ø–∞
4.  üåê –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞
5.  üî• –ù–∞—Å—Ç—Ä–æ–π–∫—É firewall
6.  üíæ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–∏—Å–∫–æ–≤

### üí≥ –®–∞–≥ 5. –û–ø–ª–∞—Ç–∞

–í–æ–∑–º–æ–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- ‚è≥ –ü–æ—á–∞—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞
- üìÖ –ü–æ–¥–ø–∏—Å–∫–∞ (–º–µ—Å—è—Ü / –≥–æ–¥)
- üìâ Reserved Instances (—Å–æ —Å–∫–∏–¥–∫–æ–π)
- üìà Auto-scaling —Å –æ–ø–ª–∞—Ç–æ–π –ø–æ –Ω–∞–≥—Ä—É–∑–∫–µ

# üîé –ú–µ—Ç–æ–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

## üñ• –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏

- `ping`
- `traceroute`
- `mtr`

### üîå –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤

- `telnet`
- `nc`
- `nmap`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏:

- `top`
- `htop`
- `free -m`
- `df -h`
- `iostat`
- `vmstat`

üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: - Prometheus - Grafana - Zabbix - Datadog

## üìÇ –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã:

- `/var/log/syslog`
- `/var/log/messages`
- `/var/log/nginx/error.log`
- `/var/log/mysql/error.log`

–ö–æ–º–∞–Ω–¥—ã:

```bash
tail -f /var/log/syslog
journalctl -xe
```

## üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ firewall (`ufw status`, `iptables -L`)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH-–¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ SSL

# üõ† –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

## üö® –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

- ‚ùå –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ RAM
- ‚ùå –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ CPU
- ‚ùå –ó–∞–ø–æ–ª–Ω–µ–Ω –¥–∏—Å–∫
- ‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏
- ‚ùå –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ firewall

–†–µ—à–µ–Ω–∏—è:

- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞: `systemctl restart nginx`
- üîÅ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- üßπ –û—á–∏—Å—Ç–∫–∞ –¥–∏—Å–∫–∞
- üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## üê¢ –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ú–µ—Ç–æ–¥—ã —Ä–µ—à–µ–Ω–∏—è:

- ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î
- üß† –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis, Memcached)
- üì¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CDN
- üîÑ –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- üìä –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ auto-restart —Å–µ—Ä–≤–∏—Å–æ–≤
- Auto-scaling –≥—Ä—É–ø–ø
- Health-check –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

# üß© –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

- üîê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH-–∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
- üì¶ –î–µ–ª–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- üìä –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üß± –†–∞–∑–¥–µ–ª—è—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω –∏ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É
- üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- üîÑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Infrastructure as Code (Terraform, Ansible)

</p></details>

---

## ‚ùì 2. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, —Ä–∞–∑–º–µ—â—ë–Ω–Ω–∞—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ - –¥–ª—è –∫–∞–∫–∏—Ö –∑–∞–¥–∞—á –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –∫–∞–∫–æ–≤—ã –µ—ë –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (04:34)](https://youtu.be/QqF0656aBPc?t=273)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

# üß† RAM-—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (tmpfs/ramfs)

## üéØ –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç

- üöÄ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**: build/CI –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- üóÉ **–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫**: –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–µ—à–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è SSD/—Ñ–ª–µ—à).
- üß† **Shared memory / IPC**: –±—ã—Å—Ç—Ä—ã–π –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (`/dev/shm`).
- üîê **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: —á—Ç–æ–±—ã –Ω–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–ª–µ–¥–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ.

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚ö° **–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ** (I/O –≤ RAM).
- üßº **–≠—Ñ–µ–º–µ—Ä–Ω–æ**: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞/–∞–≤–∞—Ä–∏—è ‚Üí –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–¥–∞—é—Ç.
- üß† **–ö–æ–Ω–∫—É—Ä–∏—Ä—É–µ—Ç –∑–∞ –ø–∞–º—è—Ç—å** —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –∫–µ—à–µ–º –û–°.

## üß± –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ä–∏—Å–∫–∏

- üß® **OOM (–Ω–µ—Ö–≤–∞—Ç–∫–∞ RAM)**: –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç ¬´–ø—Ä–æ—Å–µ—Å—Ç—å¬ª –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã.
- üí§ **tmpfs –º–æ–∂–µ—Ç —É–π—Ç–∏ –≤ swap** (–µ—Å–ª–∏ –æ–Ω –≤–∫–ª—é—á—ë–Ω) ‚Üí —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç.
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω–∞**: –≤–æ–∑–º–æ–∂–Ω—ã –¥–∞–º–ø—ã –ø–∞–º—è—Ç–∏, —Å–Ω–∞–ø—à–æ—Ç—ã VM, –ø–æ–ø–∞–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ swap.

## üß∑ tmpfs vs ramfs (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)

- üåÄ **tmpfs**: –º–æ–∂–Ω–æ **–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä**, –æ–±—ã—á–Ω–æ **—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** ‚úÖ
- ‚ö° **ramfs**: **–±–µ–∑ –ª–∏–º–∏—Ç–∞**, –ª–µ–≥–∫–æ ¬´—Å—ä–µ—Å—Ç—å –≤—Å—é RAM¬ª ‚ö†Ô∏è

‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –∫–ª–∞–¥–∏—Ç–µ —Ç—É–¥–∞ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ **–º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å** –∏ **–ª–µ–≥–∫–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å**.

</p></details>

---

## ‚ùì 3. –ß—Ç–æ —Ç–∞–∫–æ–µ Soft RAID –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –¥–∏—Å–∫–æ–≤ –∏ –∫–∞–∫ –∏—Ö –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (07:18)](https://youtu.be/QqF0656aBPc?t=438)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

# ‚úÖ 1. –ß—Ç–æ —Ç–∞–∫–æ–µ Software RAID

**Software RAID (—Å–æ—Ñ—Ç RAID)** ‚Äî —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –¥–∏—Å–∫–æ–≤ –≤ –æ–¥–∏–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ RAID‚Äë–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

–í Linux —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

- üß± **mdadm (mdraid)** ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–±
- üß† **ZFS**
- üåø **btrfs**

# üßÆ 2. –ö–∞–∫–∏–µ RAID-—É—Ä–æ–≤–Ω–∏ –¥–µ–ª–∞—é—Ç –∏–∑ 4 –¥–∏—Å–∫–æ–≤

–ù–∏–∂–µ ‚Äî —Ç–æ, —á—Ç–æ –≤–∞–∂–Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏.

## üü¶ RAID 0 ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

- üöÄ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ùå –û—Ç–∫–∞–∑ –ª—é–±–æ–≥–æ –¥–∏—Å–∫–∞ = –ø–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- üì¶ –ü–æ–ª–µ–∑–Ω—ã–π –æ–±—ä—ë–º: 100% (4 –∏–∑ 4 –¥–∏—Å–∫–æ–≤)

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –∫–µ—à, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–µ—Å—Ç—ã.

## üü® RAID 5 ‚Äî –±–∞–ª–∞–Ω—Å –æ–±—ä—ë–º–∞ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

- üõ° –ü–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ 1 –¥–∏—Å–∫–∞
- üì¶ –ü–æ–ª–µ–∑–Ω—ã–π –æ–±—ä—ë–º: 75% (3 –∏–∑ 4)
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∑–∞–ø–∏—Å—å (–∏–∑-–∑–∞ parity)
- ‚ö†Ô∏è –î–æ–ª–≥–∏–π rebuild –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∏—Å–∫–∞—Ö

**–ü–æ–¥—Ö–æ–¥–∏—Ç:** —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –æ–±—ä—ë–º–∞.

## üüß RAID 6 ‚Äî –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- üõ°üõ° –ü–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ 2 –¥–∏—Å–∫–æ–≤
- üì¶ –ü–æ–ª–µ–∑–Ω—ã–π –æ–±—ä—ë–º: 50% (2 –∏–∑ 4)
- ‚ö†Ô∏è –ó–∞–ø–∏—Å—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º RAID 5

**–ü–æ–¥—Ö–æ–¥–∏—Ç:** –±–æ–ª—å—à–∏–µ –¥–∏—Å–∫–∏, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## üü• RAID 10 ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å + –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- üöÄ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üõ° –ü–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ –º–∏–Ω–∏–º—É–º 1 –¥–∏—Å–∫–∞
- üì¶ –ü–æ–ª–µ–∑–Ω—ã–π –æ–±—ä—ë–º: 50%
- ‚ö° –ë—ã—Å—Ç—Ä—ã–π rebuild

**–ß–∞—Å—Ç–æ –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –ë–î –∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏.**

# üéØ 3. –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å RAID –∏–∑ 4 –¥–∏—Å–∫–æ–≤

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | üü• RAID 10 |
- –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ | üüß RAID 6 |
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º | üü® RAID 5 |
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | üü¶ RAID 0 |

# üõ† 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Software RAID (Linux, mdadm)

–ü—Ä–∏–º–µ—Ä –¥–ª—è 4 –¥–∏—Å–∫–æ–≤:  
`/dev/sdb /dev/sdc /dev/sdd /dev/sde`

## üîπ –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–æ–≤

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫:

```
lsblk
```

–°–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã —Ç–∏–ø–∞ **Linux RAID** (–Ω–∞–ø—Ä–∏–º–µ—Ä `/dev/sdb1` –∏ —Ç.–¥.).

## üîπ –®–∞–≥ 2. –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ (–ø—Ä–∏–º–µ—Ä RAID 10)

```
mdadm --create --verbose /dev/md0 \
--level=10 \
--raid-devices=4 \
/dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```
cat /proc/mdstat
mdadm --detail /dev/md0
```

## üîπ –®–∞–≥ 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

```
mkfs.ext4 /dev/md0
```

–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```
mkdir /data
mount /dev/md0 /data
```

## üîπ –®–∞–≥ 4. –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```
mdadm --detail --scan >> /etc/mdadm/mdadm.conf
```

–î–æ–±–∞–≤–∏—Ç—å UUID –≤ `/etc/fstab`.

# üîÑ 5. –ó–∞–º–µ–Ω–∞ –¥–∏—Å–∫–∞ (–æ–±—â–∞—è –ª–æ–≥–∏–∫–∞)

1Ô∏è‚É£ –ü–æ–º–µ—Ç–∏—Ç—å –¥–∏—Å–∫ –∫–∞–∫ faulty  
2Ô∏è‚É£ –£–¥–∞–ª–∏—Ç—å –∏–∑ –º–∞—Å—Å–∏–≤–∞  
3Ô∏è‚É£ –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏  
4Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–∏—Å–∫  
5Ô∏è‚É£ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å rebuild

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:

```
cat /proc/mdstat
```

# ‚ö†Ô∏è 6. –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã (–ª—é–±—è—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

- RAID ‚â† –±—ç–∫–∞–ø üßØ
- RAID –∑–∞—â–∏—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –æ—Ç–∫–∞–∑–∞ –¥–∏—Å–∫–∞
- –í–æ –≤—Ä–µ–º—è rebuild —Ä–∏—Å–∫ –≤—Ç–æ—Ä–æ–≥–æ –æ—Ç–∫–∞–∑–∞ –≤—ã—à–µ
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + SMART + –∞–ª–µ—Ä—Ç—ã üìä

# üé§ –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–°–æ—Ñ—Ç RAID ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è RAID —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –û–°.  
–ò–∑ 4 –¥–∏—Å–∫–æ–≤ —á–∞—â–µ –≤—ã–±–∏—Ä–∞—é—Ç RAID10 (—Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å) –∏–ª–∏ RAID6 (–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–∏—Å–∫–∞—Ö).  
–ù–∞—Å—Ç—Ä–æ–π–∫–∞: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–æ–≤ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ md-–º–∞—Å—Å–∏–≤–∞ ‚Üí —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Üí –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.  
RAID –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.¬ª

</p></details>

---

# 2. Monitoring

## ‚ùì 1. –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∞–ª–µ—Ä—Ç—ã –≤ —Å–≤—è–∑–∫–µ Prometheus - Grafana?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (09:13)](https://youtu.be/QqF0656aBPc)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –∫—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç

### üß© Prometheus

- üì• **–°–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏** (scrape) –∏ —Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ TSDB
- üßÆ –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã **PromQL**
- üö® –ú–æ–∂–µ—Ç **–æ—Ü–µ–Ω–∏–≤–∞—Ç—å alert rules** –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è _PENDING/FIRING/RESOLVED_

### üì£ Alertmanager

- üß≠ **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Slack/Email/PagerDuty/Webhook –∏ —Ç.–¥.)
- üß© **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** –∏ **–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**
- üõë **Inhibition** (–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤)
- ü§´ **Silences** (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ)

### üìä Grafana

–î–≤–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞:

1. ‚úÖ **Alert rules –≤ Prometheus** ‚Üí Alertmanager ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. ‚úÖ **Grafana Unified Alerting** ‚Üí Contact points/Policies ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

üí° –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ —Ö–æ—Ä–æ—à–æ –æ—Ç–º–µ—Ç–∏—Ç—å: **–≤—ã–±–∏—Ä–∞–µ–º –æ–¥–∏–Ω ‚Äú–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã‚Äù –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤**, —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–≤–∏—Ç—å –¥—É–±–ª–∏.

## üéØ –ì–¥–µ ‚Äú–∂–∏–≤—É—Ç‚Äù –ø—Ä–∞–≤–∏–ª–∞: –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–∞–≤–∏–ª–∞ –≤ Prometheus (+ Alertmanager) ‚Äî ¬´–∫–ª–∞—Å—Å–∏–∫–∞¬ª

**–ü–ª—é—Å—ã** üëç

- üß± –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –∫–æ–¥ (YAML –≤ Git)
- üõ°Ô∏è –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Grafana (–∞–ª–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –µ—Å–ª–∏ Grafana —É–ø–∞–ª–∞)
- ‚öôÔ∏è –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Alertmanager

**–ú–∏–Ω—É—Å—ã** üëé

- UI-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω–µ–µ —É–¥–æ–±–Ω–æ

**–ü–∞–π–ø–ª–∞–π–Ω:** Prometheus ‚ûú Alertmanager ‚ûú Slack/Email/etc

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç B: Grafana Unified Alerting ‚Äî ¬´—É–¥–æ–±–Ω—ã–π UI¬ª

**–ü–ª—é—Å—ã** üëç

- üñ±Ô∏è –ë—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- üîå –ú–æ–∂–µ—Ç –∞–ª–µ—Ä—Ç–∏—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (Prometheus/Loki/CloudWatch‚Ä¶)
- üì£ –ï–¥–∏–Ω—ã–π —Ü–µ–Ω—Ç—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Contact points + Policies)

**–ú–∏–Ω—É—Å—ã** üëé

- ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Grafana (–Ω—É–∂–Ω—ã HA/–±—ç–∫–∞–ø—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤)

**–ü–∞–π–ø–ª–∞–π–Ω:** Grafana Alerting ‚ûú Contact points/Policies ‚ûú —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üß© –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∞–ª–µ—Ä—Ç ‚Äú–ø—Ä–∞–≤–∏–ª—å–Ω–æ‚Äù (—à–∞–±–ª–æ–Ω –º—ã—à–ª–µ–Ω–∏—è)

1. üîç **–í—ã–±—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫—É –∏ PromQL**, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä–æ–≥ (–ø–æ SLO/–æ–ø—ã—Ç—É)
2. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: `for: 5m` –ø—Ä–æ—Ç–∏–≤ –∫—Ä–∞—Ç–∫–∏—Ö –ø–∏–∫–æ–≤
3. üè∑Ô∏è **Labels** –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: `severity`, `team`, `service`
4. üìù **Annotations** –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞: `summary`, `description`, `runbook_url`, —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–∞—à–±–æ—Ä–¥
5. üì£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É (Alertmanager routes –∏–ª–∏ Grafana policies) + –∞–Ω—Ç–∏-—Å–ø–∞–º (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞/–¥–µ–¥—É–ø)

# üß± –í–∞—Ä–∏–∞–Ω—Ç A ‚Äî Prometheus alert rules + Alertmanager

## ‚úÖ 4.1 –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–∞ (YAML)

```yaml
groups:
  - name: node-alerts
    rules:
      - alert: NodeDiskSpaceLow
        expr: (node_filesystem_avail_bytes{fstype!~"tmpfs|overlay"} / node_filesystem_size_bytes{fstype!~"tmpfs|overlay"}) < 0.10
        for: 10m
        labels:
          severity: warning
          team: platform
          service: node
        annotations:
          summary: '–ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ ({{ $labels.instance }})'
          description: '–°–≤–æ–±–æ–¥–Ω–æ < 10% –Ω–∞ {{ $labels.mountpoint }}. –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {{ $value | humanizePercentage }}'
          runbook_url: 'https://runbooks.example.local/node/disk-space'
```

**–ß—Ç–æ –≤–∞–∂–Ω–æ –ø—Ä–æ–≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏:**

- `expr` ‚Äî —É—Å–ª–æ–≤–∏–µ –Ω–∞ PromQL üßÆ
- `for` ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç ‚Äú—Ñ–ª–∞–ø–ø–∏–Ω–≥–∞‚Äù ‚è≥
- `labels` ‚Äî —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ **–º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å** (–ø–æ –∫–æ–º–∞–Ω–¥–∞–º/—Å–µ—Ä–≤–∏—Å–∞–º/—É—Ä–æ–≤–Ω—é) üè∑Ô∏è
- `annotations` ‚Äî —á—Ç–æ–±—ã —á–µ–ª–æ–≤–µ–∫ –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è–ª **—á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å** üßë‚Äçüöí

## ‚úÖ 4.2 Alertmanager: –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ –∞–Ω—Ç–∏-—Å–ø–∞–º (–∫–æ–Ω—Ü–µ–ø—Ç)

–ö–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏:

- üß≠ `route` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ ‚Äú–∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å‚Äù (–ø–æ labels)
- üì¨ `receivers` ‚Äî ‚Äú–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å‚Äù (Slack/Email/PagerDuty)
- üß© `group_by`, `group_wait`, `group_interval`, `repeat_interval` ‚Äî —á—Ç–æ–±—ã **–Ω–µ —Å–ø–∞–º–∏—Ç—å**

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏–∫–∏ (—Å–ª–æ–≤–∞–º–∏):

- üü• `severity=critical` ‚Üí on-call (PagerDuty)
- üüß `severity=warning` ‚Üí Slack –∫–æ–º–∞–Ω–¥—ã
- üè∑Ô∏è `team=platform` ‚Üí receiver –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## ‚úÖ 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

- üß™ `promtool check rules` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- üîç UI Prometheus ‚Üí **Alerts** (Pending/Firing)
- ü§´ Silences –≤ Alertmanager –¥–ª—è –ø–ª–∞–Ω–æ–≤—ã—Ö —Ä–∞–±–æ—Ç

# üìä –í–∞—Ä–∏–∞–Ω—Ç B ‚Äî Grafana Unified Alerting

## ‚úÖ 5.1 –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ (—à–∞–≥–∏ –≤ UI)

1. üß≠ **Alerting ‚Üí Alert rules ‚Üí New alert rule**
2. üîå Datasource: **Prometheus**
3. üßÆ Query: PromQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `rate(http_requests_total{status=~"5.."}[5m])`)
4. üß± Condition: –ø–æ—Ä–æ–≥/—É—Å–ª–æ–≤–∏–µ (last/avg/max)
5. ‚è≥ `Evaluate every` –∏ `For`
6. üè∑Ô∏è Labels: `severity/team/service`
7. üìù Annotations: summary/description/runbook_url/dashboard link
8. üì£ –í—ã–±—Ä–∞—Ç—å **Contact point** –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å **Notification policy**

## ‚úÖ 5.2 Contact points vs Notification policies (—á–∞—Å—Ç—ã–π –≤–æ–ø—Ä–æ—Å)

- üì£ **Contact point** = _–∫—É–¥–∞ —Å–ª–∞—Ç—å_ (Slack/Email/Webhook)
- üß≠ **Notification policy** = _–∫–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –∫—É–¥–∞ —Å–ª–∞—Ç—å_ (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ labels)
- üß© –¢–∞–º –∂–µ –æ–±—ã—á–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏/—á–∞—Å—Ç–æ—Ç—ã

## ‚úÖ 5.3 –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–µ–π

–ï—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å –∏ Prometheus-–∞–ª–µ—Ä—Ç—ã, –∏ Grafana-–∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –¥–≤–æ–π–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è üòµ‚Äçüí´

‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞:

- –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ (Prometheus+AM **–∏–ª–∏** Grafana UA)
- –≤—Ç–æ—Ä–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–∞—à–±–æ—Ä–¥–æ–≤

# üß∞ Best practices (—Ç–æ, —á—Ç–æ –ª—é–±—è—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é)

- ‚è≥ **for:** –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç —Ñ–ª–∞–ø–ø–∏–Ω–≥
- üè∑Ô∏è –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å labels: `severity`, `team`, `service`, `env`
- üîó **Runbook-first**: —Å—Å—ã–ª–∫–∞ –Ω–∞ runbook –∏ –¥–∞—à–±–æ—Ä–¥ –≤ –∫–∞–∂–¥–æ–º –∞–ª–µ—Ä—Ç–µ
- üßÆ **Recording rules** –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–∞–ª–µ—Ä—Ç–∏—Ç—å –ø–æ –ø—Ä–µ–¥–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º)
- üßπ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞/–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —à—É–º
- üßØ RAID –Ω–µ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç —Å–ø–∞–º–∞ ‚Äî —Å–ø–∞—Å–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∞–ª–µ—Ä—Ç–æ–≤ üôÇ

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π ¬´–æ—Ç–≤–µ—Ç –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è¬ª

¬´–í —Å–≤—è–∑–∫–µ Prometheus‚ÄìGrafana –∞–ª–µ—Ä—Ç—ã –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:  
–ª–∏–±–æ –ø–∏—Å–∞—Ç—å **alert rules –≤ Prometheus** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ **Alertmanager**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É, silences –∏ inhibition;  
–ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Grafana Unified Alerting**, –≥–¥–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ Grafana —á–µ—Ä–µ–∑ contact points –∏ notification policies.  
–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤–∞–∂–Ω–æ: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PromQL, `for` –ø—Ä–æ—Ç–∏–≤ —Ñ–ª–∞–ø–ø–∏–Ω–≥–∞, labels –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, annotations —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ runbook, –∏ –±–æ—Ä—å–±–∞ —Å —à—É–º–æ–º.¬ª

</p></details>

---

## ‚ùì 5. –ú–æ–∂–µ—à—å –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä —Å–ª–æ–∂–Ω–æ–≥–æ –∞–ª–µ—Ä—Ç–∞ –¥–ª—è Prometheus/Grafana –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (09:56)](https://youtu.be/QqF0656aBPc?t=596)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üéØ –ò–¥–µ—è –∞–ª–µ—Ä—Ç–∞

–ú—ã —Ö–æ—Ç–∏–º –∞–ª–µ—Ä—Ç–∏—Ç—å, –∫–æ–≥–¥–∞:

- üü• **–¥–æ–ª—è 5xx** —Å—Ç–∞–ª–∞ –≤—ã—Å–æ–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä > 2%)
- üìà –ø—Ä–∏ —ç—Ç–æ–º **—Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –Ω—É–ª–µ–≤–æ–π**, —á—Ç–æ–±—ã –Ω–µ –ª–æ–≤–∏—Ç—å —à—É–º –Ω–∞ –º–∞–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚è≥ —É—Å–ª–æ–≤–∏–µ –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è (`for`), —á—Ç–æ–±—ã –Ω–µ —Ñ–ª–∞–ø–ø–∏–ª–æ

## üßÆ PromQL: error rate + ‚Äúguard‚Äù –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É

### ‚úÖ Error rate (5xx / all)

```promql
sum(rate(http_requests_total{service="api", status=~"5.."}[5m]))
/
sum(rate(http_requests_total{service="api"}[5m]))
```

### ‚úÖ Guard: —Ç—Ä–∞—Ñ–∏–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –∞–ª–µ—Ä—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ RPS ‚â• 5:

```promql
sum(rate(http_requests_total{service="api"}[5m])) >= 5
```

# üß± –ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∞–ª–µ—Ä—Ç–∞ (Prometheus)

```yaml
groups:
  - name: api-alerts
    rules:
      - alert: ApiHigh5xxRate
        expr: |
          (
            sum(rate(http_requests_total{service="api", status=~"5.."}[5m]))
            /
            sum(rate(http_requests_total{service="api"}[5m]))
          ) > 0.02
          and
          sum(rate(http_requests_total{service="api"}[5m])) >= 5
        for: 10m
        labels:
          severity: critical
          team: backend
          service: api
        annotations:
          summary: 'üü• API: –≤—ã—Å–æ–∫–∏–π % 5xx'
          description: '–î–æ–ª—è 5xx > 2% –∑–∞ 5m –ø—Ä–∏ RPS >= 5 –∏ –¥–µ—Ä–∂–∏—Ç—Å—è 10m.'
          runbook_url: 'https://runbooks.example.local/api/5xx'
          dashboard_url: 'https://grafana.example.local/d/abc123/api-overview'
```

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏)

- üßÆ `rate(...[5m])` —Å—á–∏—Ç–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ —Å—á—ë—Ç—á–∏–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç (RPS).
- üìâ –î–æ–ª—è –æ—à–∏–±–æ–∫ = `5xx / all`. –ü–æ—Ä–æ–≥ `0.02` = 2%.
- üìà `and RPS >= 5` ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –Ω–∞ –Ω–∏–∑–∫–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ.
- ‚è≥ `for: 10m` ‚Äî –∞–ª–µ—Ä—Ç —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ 10 –º–∏–Ω—É—Ç.
- üè∑Ô∏è Labels (`severity/team/service`) –ø–æ–º–æ–≥—É—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ Alertmanager –∏–ª–∏ Grafana policies.
- üìù Annotations –¥–∞—é—Ç —á–µ–ª–æ–≤–µ–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç + —Å—Å—ã–ª–∫–∏ –Ω–∞ runbook/–¥–∞—à–±–æ—Ä–¥.

## ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (–µ—Å–ª–∏ —Å–ø—Ä–æ—Å—è—Ç)

- –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ warning/critical (–Ω–∞–ø—Ä–∏–º–µ—Ä 1% –∏ 3%) üüßüü•
- –î–æ–±–∞–≤–∏—Ç—å inhibition: critical –ø–æ–¥–∞–≤–ª—è–µ—Ç warning üõë
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sum by (instance)` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–∏–¥–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Å—Ç–∞–Ω—Å üß©

</p></details>

---

# 3. Linux

## ‚ùì 1. –ö–∞–∫–∏–µ —Ç–∏–ø—ã —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ Linux —Ç—ã –∑–Ω–∞–µ—à—å?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (11:19)](https://youtu.be/QqF0656aBPc?t=679)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏–≥–Ω–∞–ª?

**–°–∏–≥–Ω–∞–ª (signal)** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—É –æ—Ç —è–¥—Ä–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ —Å–æ–±—ã—Ç–∏–∏.  
–°–∏–≥–Ω–∞–ª –º–æ–∂–µ—Ç:

- üõë –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
- ‚è∏Ô∏è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- üß∞ –≤—ã–∑–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (handler)
- üßæ –±—ã—Ç—å –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω (–Ω–µ –≤—Å–µ–≥–¥–∞)

üìå –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å–∏–≥–Ω–∞–ª—ã —á–∞—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∫–æ–º–∞–Ω–¥–∞–º–∏ `kill`, `pkill`, `killall`, –∞ —Ç–∞–∫–∂–µ –∏–∑ systemd.

## üß© –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (–∫–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é)

### ‚úÖ –ó–∞–≤–µ—Ä—à–∞—é—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã (termination)

–û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.

- üüß **SIGTERM (15)** ‚Äî ¬´–º—è–≥–∫–æ –∑–∞–≤–µ—Ä—à–∏—Å—å¬ª (graceful shutdown)  
  ‚úÖ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã—Ç—å —Ä–µ—Å—É—Ä—Å—ã
- üü• **SIGKILL (9)** ‚Äî ¬´—É–±–µ–π –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ¬ª  
  ‚õî –Ω–µ–ª—å–∑—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (—è–¥—Ä–æ –ø—Ä–æ—Å—Ç–æ —É–±–∏–≤–∞–µ—Ç)

üó£Ô∏è –§—Ä–∞–∑–∞ –¥–ª—è —Å–æ–±–µ—Å–∞: ¬´–í—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ SIGTERM, –∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç ‚Äî SIGKILL¬ª.

### ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞/–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ (job control)

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞.

- ‚è∏Ô∏è **SIGSTOP** ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚ñ∂Ô∏è **SIGCONT** ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- ‚å®Ô∏è **SIGTSTP** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (Ctrl+Z), –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å

### ‚úÖ 2.3 –°–∏–≥–Ω–∞–ª—ã ‚Äú–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã‚Äù / —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

- ‚å®Ô∏è **SIGINT (2)** ‚Äî Ctrl+C, –ø—Ä–æ—Å—å–±–∞ –ø—Ä–µ—Ä–≤–∞—Ç—å
- üö™ **SIGHUP (1)** ‚Äî —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞–∫ ‚Äú–ø–µ—Ä–µ—á–∏—Ç–∞–π –∫–æ–Ω—Ñ–∏–≥‚Äù
- üß® **SIGQUIT (3)** ‚Äî Ctrl+\\, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ + –æ–±—ã—á–Ω–æ core dump

### ‚úÖ 2.4 –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (fault / exception)

–ß–∞—Å—Ç–æ –ø–æ—Å—ã–ª–∞—é—Ç—Å—è —è–¥—Ä–æ–º –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.

- üí• **SIGSEGV (11)** ‚Äî segmentation fault (–Ω–µ–≤–µ—Ä–Ω–∞—è –ø–∞–º—è—Ç—å)
- ‚ûó **SIGFPE (8)** ‚Äî –æ—à–∏–±–∫–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 –∏ —Ç.–ø.)
- üß© **SIGILL (4)** ‚Äî –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è CPU
- üß± **SIGBUS (7)** ‚Äî –æ—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–±–ª–µ–º—ã —Å mmap/–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º)

### ‚úÖ 2.5 –¢–∞–π–º–µ—Ä—ã –∏ ‚Äú–±—É–¥–∏–ª—å–Ω–∏–∫–∏‚Äù

- ‚è∞ **SIGALRM (14)** ‚Äî —Å–∏–≥–Ω–∞–ª —Ç–∞–π–º–µ—Ä–∞ (`alarm()`, `setitimer()`)
- ‚è≤Ô∏è **SIGVTALRM** ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä (–ø–æ CPU –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞)
- üßÆ **SIGPROF** ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (user+kernel CPU)

### ‚úÖ 2.6 –°–∏–≥–Ω–∞–ª—ã –¥–ª—è ‚Äú–∫–æ–Ω–≤–µ–π–µ—Ä–æ–≤‚Äù –∏ —Å–µ—Ç–µ–≤–æ–≥–æ I/O

- üßµ **SIGPIPE (13)** ‚Äî –∑–∞–ø–∏—Å—å –≤ pipe/socket, –≥–¥–µ —á–∏—Ç–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–ª—Å—è  
  üìå —á–∞—Å—Ç–æ –ª–æ–≤—è—Ç –≤ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö; –∏–Ω–æ–≥–¥–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç, —á—Ç–æ–±—ã –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `EPIPE`
- üö¶ **SIGIO** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π I/O (—Ä–µ–∂–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è)

### ‚úÖ 2.7 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã

- üë§ **SIGUSR1** –∏ **SIGUSR2** ‚Äî ¬´–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ¬ª, —Å–º—ã—Å–ª –∑–∞–¥–∞—ë—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
  –ü—Ä–∏–º–µ—Ä—ã: —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤, debug-–¥–∞–º–ø, —Å–º–µ–Ω–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

### ‚úÖ 2.8 –î–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

- üë∂ **SIGCHLD** ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ä–æ–¥–∏—Ç–µ–ª—é, –∫–æ–≥–¥–∞ —Ä–µ–±—ë–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è/–æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è  
  üìå –≤–∞–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å (–∏–ª–∏ `wait()`), —á—Ç–æ–±—ã –Ω–µ –ø–ª–æ–¥–∏—Ç—å zombie-–ø—Ä–æ—Ü–µ—Å—Å—ã üßü

## üß∞ –ß—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å ‚Äú–ø–æ –≤–∑—Ä–æ—Å–ª–æ–º—É‚Äù (—á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### üß∑ –ö–∞–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å?

- ‚õî **SIGKILL**
- ‚õî **SIGSTOP**
  –ò—Ö –Ω–µ–ª—å–∑—è –Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.

### üß© –ß—Ç–æ –∑–Ω–∞—á–∏—Ç ‚Äú–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏–≥–Ω–∞–ª‚Äù?

–ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç:

- –ø—Ä–∏–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (default)
- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å handler (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ C —á–µ—Ä–µ–∑ `sigaction()`)
- –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö)

### üß≠ –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Å–∏–≥–Ω–∞–ª–æ–≤?

- `kill -l`
- `man 7 signal`

## ‚ö° –ú–∏–Ω–∏-—à–ø–∞—Ä–≥–∞–ª–∫–∞ (—Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ)

- üüß SIGTERM ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å
- üü• SIGKILL ‚Äî —É–±–∏—Ç—å —Å—Ä–∞–∑—É (–ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥)
- ‚å®Ô∏è SIGINT ‚Äî Ctrl+C
- üö™ SIGHUP ‚Äî ‚Äú—Ç–µ—Ä–º–∏–Ω–∞–ª —É–º–µ—Ä‚Äù / —á–∞—Å—Ç–æ ‚Äúreload config‚Äù
- ‚è∏Ô∏è SIGSTOP / ‚ñ∂Ô∏è SIGCONT ‚Äî —Å—Ç–æ–ø/–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
- üí• SIGSEGV ‚Äî segfault
- üßµ SIGPIPE ‚Äî –∑–∞–ø–∏—Å—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π pipe
- üë∂ SIGCHLD ‚Äî —Ä–µ–±—ë–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è

</p></details>

---

## ‚ùì 2. –ö–∞–∫–∏–µ —Ç–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –±—ã–≤–∞—é—Ç —É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (13:39)](https://youtu.be/QqF0656aBPc?t=819)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ ¬´—Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞¬ª?

**–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞** ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç—É—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —è–¥—Ä–∞:  
–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–∏ –æ–Ω, –∂–¥—ë—Ç –ª–∏ —Ä–µ—Å—É—Ä—Å, –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏, –∑–∞–≤–µ—Ä—à—ë–Ω –ª–∏ –∏ —Ç.–¥.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–∞—â–µ –≤—Å–µ–≥–æ —Å–º–æ—Ç—Ä—è—Ç —á–µ—Ä–µ–∑:

- `ps aux` / `ps -eo pid,stat,cmd`
- `top` / `htop`
- `/proc/<pid>/stat`

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∫–æ—Ç–æ—Ä—ã–µ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é)

### üü© R ‚Äî Running / Runnable (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–ª–∏ –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)

- –ø—Ä–æ—Ü–µ—Å—Å **–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** –Ω–∞ CPU –∏–ª–∏ **–≥–æ—Ç–æ–≤** –∏ –∂–¥—ë—Ç –∫–≤–∞–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
- –≤ `top` —á–∞—Å—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç ‚Äú–±–µ–≥–∞–µ—Ç‚Äù üèÉ

‚úÖ –ü—Ä–∏–º–µ—Ä: –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

### üü® S ‚Äî Sleeping (interruptible sleep)

- –ø—Ä–æ—Ü–µ—Å—Å ‚Äú—Å–ø–∏—Ç‚Äù –∏ **–∂–¥—ë—Ç —Å–æ–±—ã—Ç–∏–µ**, –æ–±—ã—á–Ω–æ I/O, —Ç–∞–π–º–µ—Ä, —Å–æ–∫–µ—Ç –∏ —Ç.–ø.
- –º–æ–∂–µ—Ç –±—ã—Ç—å **–ø—Ä–µ—Ä–≤–∞–Ω —Å–∏–≥–Ω–∞–ª–æ–º** (interruptible)

‚úÖ –≠—Ç–æ —Å–∞–º–æ–µ —á–∞—Å—Ç–æ–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

### üüß D ‚Äî Uninterruptible sleep (–æ–±—ã—á–Ω–æ I/O wait)

- –ø—Ä–æ—Ü–µ—Å—Å –∂–¥—ë—Ç —Ä–µ—Å—É—Ä—Å –≤ —Ä–µ–∂–∏–º–µ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–∞–µ–º–æ–≥–æ —Å–Ω–∞**
- —Å–∏–≥–Ω–∞–ª–∞–º–∏ –µ–≥–æ –æ–±—ã—á–Ω–æ –Ω–µ ‚Äú—Ä–∞–∑–±—É–¥–∏—Ç—å‚Äù –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–∂–∏–¥–∞–Ω–∏—è
- —á–∞—Å—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–¥–∏—Å–∫–æ–º/—Å–µ—Ç—å—é/NFS/–¥—Ä–∞–π–≤–µ—Ä–∞–º–∏**

‚ö†Ô∏è –ï—Å–ª–∏ –º–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ D ‚Äî —á–∞—Å—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å I/O (–¥–∏—Å–∫, storage, NFS, –∑–∞–≤–∏—Å—à–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã).

### üü• T ‚Äî Stopped / Traced (–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

- –ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
  - `SIGSTOP` / `SIGTSTP` (Ctrl+Z) ‚è∏Ô∏è
  - –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ –æ—Ç–ª–∞–¥—á–∏–∫–æ–º (traced) üêû

–í–µ—Ä–Ω—É—Ç—å –≤ —Ä–∞–±–æ—Ç—É –º–æ–∂–Ω–æ `SIGCONT` ‚ñ∂Ô∏è

### üßü Z ‚Äî Zombie (–∑–æ–º–±–∏-–ø—Ä–æ—Ü–µ—Å—Å)

- –ø—Ä–æ—Ü–µ—Å—Å **–∑–∞–≤–µ—Ä—à–∏–ª—Å—è**, –Ω–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å **–Ω–µ —Å–¥–µ–ª–∞–ª wait()**
- —Ä–µ—Å—É—Ä—Å—ã –ø–æ—á—Ç–∏ –≤—Å–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã, –Ω–æ –∑–∞–ø–∏—Å—å –æ –ø—Ä–æ—Ü–µ—Å—Å–µ (PID + —Å—Ç–∞—Ç—É—Å) –æ—Å—Ç–∞—ë—Ç—Å—è

‚ö†Ô∏è –ú–Ω–æ–≥–æ Z –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö.

## üß∑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏/–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (—á–∞—Å—Ç–æ –≤ STAT —É `ps`)

–í `ps` –ø–æ–ª–µ `STAT` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±—É–∫–≤—ã:

- üß† `l` ‚Äî multithreaded (–ø—Ä–æ—Ü–µ—Å—Å/–ø–æ—Ç–æ–∫–æ–≤—ã–π)
- ‚ûï `+` ‚Äî –≤ foreground –≥—Ä—É–ø–ø–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- üß© `s` ‚Äî session leader
- ‚≠ê `N` ‚Äî –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (nice)
- üî• `<` ‚Äî –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- üß∑ `L` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞–º—è—Ç–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã (mlock)

üìå –ü—Ä–∏–º–µ—Ä `STAT`: `Ssl+` = Sleeping + session leader + multithreaded + foreground.

## üîç –ì–¥–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã—Å—Ç—Ä–æ

### ‚úÖ `ps`

```bash
ps -aux
```

### ‚úÖ `top/htop`

- `top`: —Å—Ç–æ–ª–±–µ—Ü **S**
- `htop`: —Å—Ç–æ–ª–±–µ—Ü **S** + —Ü–≤–µ—Ç–∞

### ‚úÖ `/proc`

```bash
cat /proc/<pid>/status | grep State
```

## ü©∫ –ß—Ç–æ –≤–∞–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª)

- üü® **S** ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ—Ü–µ—Å—Å—ã –∂–¥—É—Ç —Å–æ–±—ã—Ç–∏–π (I/O, sleep, network).
- üüß **D** ‚Äî –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ storage/NFS/–¥—Ä–∞–π–≤–µ—Ä–∞–º–∏ (I/O wait).
- üßü **Z** ‚Äî –Ω–µ ‚Äú–∂—Ä—É—Ç CPU‚Äù, –Ω–æ —Å–∏–≥–Ω–∞–ª—è—Ç –æ –±–∞–≥–µ/–æ—à–∏–±–∫–µ —Ä–æ–¥–∏—Ç–µ–ª—è (–Ω–µ—Ç wait()).
- üü© **R** ‚Äî –ª–∏–±–æ —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ª–∏–±–æ –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É (runnable).

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ‚Äú–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏‚Äù

¬´–û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ Linux: **R** (running/runnable), **S** (interruptible sleep), **D** (uninterruptible sleep ‚Äî —á–∞—Å—Ç–æ I/O wait), **T** (stopped/traced), **Z** (zombie). –°–º–æ—Ç—Ä–∏–º –∏—Ö —á–µ—Ä–µ–∑ `ps/top/htop`. –í `ps STAT` –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `l` –¥–ª—è multithreaded –∏–ª–∏ `+` –¥–ª—è foreground. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å D (–ø—Ä–æ–±–ª–µ–º—ã I/O) –∏ Z (—Ä–æ–¥–∏—Ç–µ–ª—å –Ω–µ —Å–¥–µ–ª–∞–ª wait()).¬ª

</p></details>

---

# 4. Docker

## ‚ùì 1. –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è docker start –æ—Ç docker run?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (15:17)](https://youtu.be/QqF0656aBPc?t=916)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è

- ‚ñ∂Ô∏è **`docker start`** ‚Äî **–∑–∞–ø—É—Å–∫–∞–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** (–∫–æ—Ç–æ—Ä—ã–π —Ä–∞–Ω–µ–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω –∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).
- üöÄ **`docker run`** ‚Äî **—Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑ –æ–±—Ä–∞–∑–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ** (—ç—Ç–æ ¬´create + start¬ª –æ–¥–Ω–∏–º —à–∞–≥–æ–º).

üí° –§–æ—Ä–º—É–ª–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é:  
**`docker run` = `docker create` + `docker start`** ‚úÖ

## ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### ‚ñ∂Ô∏è `docker start`

–ò—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –µ—Å—Ç—å:

- –≤—ã –µ–≥–æ —Ä–∞–Ω–µ–µ –∑–∞–ø—É—Å–∫–∞–ª–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ (`docker stop`)
- –æ–Ω –±—ã–ª —Å–æ–∑–¥–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π `docker create`
- –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–Ω—è—Ç—å –µ–≥–æ **—Å —Ç–µ–º–∏ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏** (env/volumes/ports/cmd), —á—Ç–æ –±—ã–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

–ü—Ä–∏–º–µ—Ä:

```bash
docker start my_app
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å—Å—è –∫ –≤—ã–≤–æ–¥—É:

```bash
docker start -a my_app
```

### üöÄ `docker run`

–ò—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ **—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–Ω–æ–≤–æ**:

- –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –æ–±—Ä–∞–∑ –≤–ø–µ—Ä–≤—ã–µ
- —Ö–æ—Ç–∏—Ç–µ –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ—Ä—Ç—ã, —Ç–æ–º–∞, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏–º—è)
- —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞

–ü—Ä–∏–º–µ—Ä:

```bash
docker run --name my_app -d -p 8080:80 -e ENV=prod nginx:latest
```

## üß© –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

- –ü—Ä–∏ **`docker run`** –≤—ã –∑–∞–¥–∞—ë—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ—Ä—Ç—ã, —Ç–æ–º–∞, env, —Å–µ—Ç—å) üß±
- –ü—Ä–∏ **`docker start`** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è **–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –±—ã–ª–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ üîÅ

üó£Ô∏è –§—Ä–∞–∑–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è:  
¬´`docker start` –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ—Ä—Ç—ã/volumes/env, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–Ω–æ–≤–æ ‚Äî –æ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π¬ª.

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å `-p`, `-v` –∏–ª–∏ `-e`, –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é—Ç —Ç–∞–∫:

  - üßπ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker rm my_app`
  - üöÄ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–µ—Ä–µ–∑ `docker run ...`

- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏, `docker start` –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ —Å–Ω–æ–≤–∞ ‚Äî –∏ –æ–Ω —Å–Ω–æ–≤–∞ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å üòÖ

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ‚Äú–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏‚Äù

¬´`docker run` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑ –æ–±—Ä–∞–∑–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ ‚Äî —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ `docker create` + `docker start`.  
`docker start` –∑–∞–ø—É—Å–∫–∞–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π (–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π) –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–æ–¥–µ –ø–æ—Ä—Ç–æ–≤, —Ç–æ–º–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî –æ–Ω–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.¬ª

</p></details>

---

## ‚ùì 2. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ docker rm –æ—Ç docker rmi?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (16:25)](https://youtu.be/QqF0656aBPc?t=985)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ì–ª–∞–≤–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞

- üóë **`docker rm`** ‚Äî —É–¥–∞–ª—è–µ—Ç **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**
- üß± **`docker rmi`** ‚Äî —É–¥–∞–ª—è–µ—Ç **–æ–±—Ä–∞–∑ (image)**

üìå –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:  
**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚â† –û–±—Ä–∞–∑**

- üß± –û–±—Ä–∞–∑ (image) ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω (nginx, ubuntu, postgres)
- üì¶ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞

# üóë `docker rm` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–£–¥–∞–ª—è–µ—Ç **–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**.

### –ü—Ä–∏–º–µ—Ä:

```bash
docker rm my_container
```

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω:

```bash
docker rm -f my_container
```

`-f` = –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å.

### üîç –ß—Ç–æ –≤–∞–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏

- –£–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –û–±—Ä–∞–∑ –æ—Å—Ç–∞—ë—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É–¥–∞–ª—è—é—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è volumes)

# üß± `docker rmi` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞

–£–¥–∞–ª—è–µ—Ç **image** –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Docker registry.

### –ü—Ä–∏–º–µ—Ä:

```bash
docker rmi nginx:latest
```

–ï—Å–ª–∏ –æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º ‚Äî —É–¥–∞–ª–∏—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è ‚ùå

–ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ:

```bash
docker rmi -f nginx:latest
```

### üîç –ß—Ç–æ –≤–∞–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏

- –£–¥–∞–ª—è–µ—Ç—Å—è —Å–∞–º –æ–±—Ä–∞–∑
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ
- –≠—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

# ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –Ω—é–∞–Ω—Å—ã

### ‚ùì –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å image?

–ü–æ—Ç–æ–º—É —á—Ç–æ –µ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ.

–†–µ—à–µ–Ω–∏–µ:
1Ô∏è‚É£ `docker ps -a`  
2Ô∏è‚É£ `docker rm <container>`  
3Ô∏è‚É£ `docker rmi <image>`

### üß© –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å volumes?

- `docker rm` **–Ω–µ —É–¥–∞–ª—è–µ—Ç volumes**, –µ—Å–ª–∏ —è–≤–Ω–æ –Ω–µ —É–∫–∞–∑–∞—Ç—å `-v`
- –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–º–µ—Å—Ç–µ —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ volume:

```bash
docker rm -v my_container
```

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ¬´–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏¬ª

¬´`docker rm` —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —Ç–æ –µ—Å—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞.  
`docker rmi` —É–¥–∞–ª—è–µ—Ç —Å–∞–º –æ–±—Ä–∞–∑ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ Docker.  
–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—Ä–∞–∑, —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∏–Ω–∞—á–µ `docker rmi` –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è.  
–û–±—Ä–∞–∑ ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî –µ–≥–æ –∑–∞–ø—É—â–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è.¬ª

</p></details>

---

## ‚ùì 3. –ü–æ –∫–∞–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º rmi –º–æ–∂–µ—Ç –Ω–µ —É–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (17:20)](https://youtu.be/QqF0656aBPc?t=1040)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üö´ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1Ô∏è‚É£ –û–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º (—Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞)

–î–∞–∂–µ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω**, –æ–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ.

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
docker ps -a
```

üõ† –†–µ—à–µ–Ω–∏–µ:

```bash
docker rm <container>
docker rmi <image>
```

### 2Ô∏è‚É£ –£ –æ–±—Ä–∞–∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–≥–æ–≤

–û–¥–∏–Ω image ID –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Å—ã–ª–æ–∫ (`nginx:latest`, `nginx:1.25`).

üõ† –ù—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–µ–≥–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å image ID.

### 3Ô∏è‚É£ –ï—Å—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –æ–±—Ä–∞–∑—ã

–ï—Å–ª–∏ –¥—Ä—É–≥–æ–π image —Å–æ–±—Ä–∞–Ω FROM —ç—Ç–æ–≥–æ –æ–±—Ä–∞–∑–∞ ‚Äî —É–¥–∞–ª–∏—Ç—å –Ω–µ–ª—å–∑—è.

üõ† –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–µ –æ–±—Ä–∞–∑—ã.

### 4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Docker Compose / —Å–µ—Ä–≤–∏—Å–∞—Ö

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è.

üõ† –°–Ω–∞—á–∞–ª–∞:

```bash
docker compose down
```

## ‚ö†Ô∏è –ü—Ä–æ `-f`

`docker rmi -f` —É–¥–∞–ª—è–µ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ,  
–Ω–æ **–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç**, –µ—Å–ª–∏ –µ—Å—Ç—å –∂–∏–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´`docker rmi` –Ω–µ —É–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞–∑, –µ—Å–ª–∏ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –æ–±—Ä–∞–∑–∞–º–∏. –î–∞–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç —É–¥–∞–ª–µ–Ω–∏–µ. –¢–∞–∫–∂–µ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ–≥–∞—Ö –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–ª–æ—è—Ö. –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –ø–æ—Ç–æ–º –æ–±—Ä–∞–∑.¬ª

</p></details>

---

## ‚ùì 4. –ü–æ—á–µ–º—É —É–¥–µ–ª—è—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä—É Docker Image?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (18:09)](https://youtu.be/QqF0656aBPc?t=1089)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ö–æ—Ä–æ—Ç–∫–æ –ø–æ —Å—É—Ç–∏

–†–∞–∑–º–µ—Ä Docker image –≤–ª–∏—è–µ—Ç –Ω–∞:

- üöÄ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–µ–ø–ª–æ—è
- üåê –≤—Ä–µ–º—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑ registry
- üíæ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
- üîê –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üìà –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: **—á–µ–º –º–µ–Ω—å—à–µ –æ–±—Ä–∞–∑ ‚Äî —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.**

# üöÄ –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –¥–µ–ø–ª–æ—è

–ë–æ–ª—å—à–æ–π –æ–±—Ä–∞–∑:

- –¥–æ–ª—å—à–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏–∑ registry
- –¥–æ–ª—å—à–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ —Å–µ—Ç–∏
- –∑–∞–º–µ–¥–ª—è–µ—Ç CI/CD

–û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:

- –≤ Kubernetes (–ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–¥–æ–≤)
- –≤ –æ–±–ª–∞–∫–µ –ø—Ä–∏ auto-scaling
- –ø—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ (cold start)

üìå –ú–∞–ª—ã–π image = –±—ã—Å—Ç—Ä—ã–π rollout –∏ recovery.

# üíæ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞

- –û–±—Ä–∞–∑—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ
- –ë–æ–ª—å—à–∏–µ images –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ disk space
- –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–∏—Å–æ–≤ —ç—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤ –≥–∏–≥–∞–±–∞–π—Ç—ã

–ú–µ–Ω—å—à–µ –æ–±—Ä–∞–∑ ‚Üí –º–µ–Ω—å—à–µ storage cost.

# üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ß–µ–º –±–æ–ª—å—à–µ –æ–±—Ä–∞–∑ ‚Äî —Ç–µ–º:

- –±–æ–ª—å—à–µ –ø–∞–∫–µ—Ç–æ–≤
- –±–æ–ª—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä `alpine`, distroless):

- üìâ —É–º–µ–Ω—å—à–∞—é—Ç attack surface
- üì¶ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ

üó£Ô∏è –•–æ—Ä–æ—à–∞—è —Ñ—Ä–∞–∑–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è:
¬´–ú–µ–Ω—å—à–∏–π image ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ —Å–∫–æ—Ä–æ—Å—Ç—å, –Ω–æ –∏ –ø—Ä–æ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∞—Ç–∞–∫–∏¬ª.

# üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ Kubernetes

–í k8s –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π pod:

1. —Å–∫–∞—á–∏–≤–∞–µ—Ç image
2. —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç —Å–ª–æ–∏

–ï—Å–ª–∏ image –±–æ–ª—å—à–æ–π ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.

–ü—Ä–∏ –∞–≤—Ç–æ-—Å–∫–µ–π–ª–∏–Ω–≥–µ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ ‚è±

# üß± –ö–∞–∫ —É–º–µ–Ω—å—à–∞—é—Ç —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç `alpine` –∏–ª–∏ `distroless`
- Multi-stage build üèó
- –£–¥–∞–ª—è—é—Ç –∫–µ—à–∏ (`apt clean`, `rm -rf /var/lib/apt/lists/*`)
- –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ª–∏—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç `.dockerignore`
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—ë–≤

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–†–∞–∑–º–µ—Ä Docker image –≤–∞–∂–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–µ–ø–ª–æ—è, –≤—Ä–µ–º—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –ë–æ–ª—å—à–∏–µ –æ–±—Ä–∞–∑—ã –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π. –ü–æ—ç—Ç–æ–º—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å—Ç–∞—Ä–∞—é—Ç—Å—è –¥–µ–ª–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ multi-stage –æ–±—Ä–∞–∑—ã.¬ª

</p></details>

---

## ‚ùì 5. –ù–∞ –∫–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã —Å–ª–µ–¥—É–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä Docker-–æ–±—Ä–∞–∑–æ–≤?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (18:50)](https://youtu.be/QqF0656aBPc?t=1130)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

# üê≥ –ö–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä Docker-–æ–±—Ä–∞–∑–æ–≤? (—É—Ä–æ–≤–µ–Ω—å ¬´—Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ¬ª)

## üìò –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç + —Ç–∏–ø–æ–≤—ã–µ –ø—Ä–∏—ë–º—ã

---

## üß† –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

‚úÖ –í –æ–±—Ä–∞–∑–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è runtime**.  
–í—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ ‚Äú—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–±–æ—Ä–∫–∏‚Äù (–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã, dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Ç–µ—Å—Ç—ã) ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ build-—Å—Ç–µ–π–¥–∂–µ üèóÔ∏è

# üß± –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑: –≤—ã–±–∏—Ä–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ base images

- ü™∂ `alpine` (–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –±—ã–≤–∞—é—Ç –Ω—é–∞–Ω—Å—ã —Å musl)
- ü•∂ `distroless` (–æ—á–µ–Ω—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
- üß© slim-–≤–µ—Ä—Å–∏–∏ (`python:3.x-slim`, `node:xx-slim`)

üìå –ù–∞ –∏–Ω—Ç–µ—Ä–≤—å—é:  
¬´–í—ã–±–æ—Ä base image ‚Äî —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π —Ä—ã—á–∞–≥ –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª.

# üèóÔ∏è Multi-stage build (must-have)

### ‚úÖ –ò–¥–µ—è

- 1-–π stage: —Å–±–æ—Ä–∫–∞ (build tools, –∫–æ–º–ø–∏–ª—è—Ü–∏—è)
- 2-–π stage: —Ç–æ–ª—å–∫–æ runtime –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

–ü—Ä–∏–º–µ—Ä (–∏–¥–µ—è):

- build: –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º –±–∏–Ω–∞—Ä–Ω–∏–∫
- runtime: –∫–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –±–∏–Ω–∞—Ä–Ω–∏–∫ + –∫–æ–Ω—Ñ–∏–≥–∏

‚úÖ –û–±—ã—á–Ω–æ –¥–∞—ë—Ç **—Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ** —Ä–∞–∑–º–µ—Ä–∞.

# üßπ –ß–∏—Å—Ç–∏–º –∫–µ—à–∏ –∏ –º—É—Å–æ—Ä –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

### ‚úÖ –î–ª—è Debian/Ubuntu (`apt`)

- –Ω–µ —Å—Ç–∞–≤–∏—Ç—å `recommended`
- —á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

‚öôÔ∏è –ß–∞—Å—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:

- `apt-get update` –∏ `apt-get install` –≤ **–æ–¥–Ω–æ–º —Å–ª–æ–µ**
- –ø–æ—Ç–æ–º `rm -rf /var/lib/apt/lists/*`

### ‚úÖ –î–ª—è Alpine (`apk`)

- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--no-cache`

# üì¶ –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### ‚úÖ Runtime vs Dev

- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ runtime-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- dev-–ø–∞–∫–µ—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞ build-—Å—Ç–µ–π–¥–∂–µ

–ü—Ä–∏–º–µ—Ä—ã:

- Python: `--no-cache-dir`, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ requirements
- Node.js: `npm ci --omit=dev` (–∏–ª–∏ `--production` –≤ —Å—Ç–∞—Ä—ã—Ö –ø–æ–¥—Ö–æ–¥–∞—Ö)

# üß© –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º —Å–ª–æ–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –∫–æ–º–∞–Ω–¥

### ‚úÖ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ `RUN/COPY/ADD` —Å–æ–∑–¥–∞—ë—Ç —Å–ª–æ–π.  
–ï—Å–ª–∏ —Å–ª–æ–∏ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è ‚Äî –∫—ç—à –ª–æ–º–∞–µ—Ç—Å—è, –æ–±—Ä–∞–∑ —Ä–∞—Å—Ç—ë—Ç –∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¥–æ–ª—å—à–µ.

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**

- –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–∏–Ω `RUN` (—Ä–∞–∑—É–º–Ω–æ)
- —á–∞—Å—Ç–æ –º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ (—á—Ç–æ–±—ã –∫—ç—à —Ä–∞–±–æ—Ç–∞–ª)

# üö´ `.dockerignore` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç

### ‚úÖ –ß—Ç–æ –∏—Å–∫–ª—é—á–∞—Ç—å

- `.git/`, `node_modules/`, `__pycache__/`, `target/`, `dist/` (–µ—Å–ª–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏)
- —Ç–µ—Å—Ç—ã, –ª–æ–∫–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

üìå –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç **–∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–±–æ—Ä–∫–∏** –∏ —É—Å–∫–æ—Ä—è–µ—Ç build.

# üßæ –ù–µ —Ç–∞—â–∏–º —Å–µ–∫—Ä–µ—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- üîê –ù–µ –∫–ª–∞—Å—Ç—å –∫–ª—é—á–∏/—Ç–æ–∫–µ–Ω—ã –≤ image
- üß™ –£–±–∏—Ä–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏
- üß∑ –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏/–¥–∞–º–ø—ã –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–∑–∞

‚úÖ –°–µ–∫—Ä–µ—Ç—ã ‚Äî —á–µ—Ä–µ–∑ env/secret store (Vault/K8s secrets).

# üîí Distroless / –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π runtime (–∫–æ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç)

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —à–µ–ª–ª–∞ –∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞:

- –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä üìâ
- –º–µ–Ω—å—à–µ CVE üõ°Ô∏è
- –º–µ–Ω—å—à–µ attack surface üîê

‚ö†Ô∏è –ù–æ —Å–ª–æ–∂–Ω–µ–µ –¥–µ–±–∞–∂–∏—Ç—å (–Ω–µ—Ç bash/curl).

# üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### ‚úÖ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–º–µ—Ä:

```bash
docker images
```

- —É–≤–∏–¥–µ—Ç—å —Å–ª–æ–∏:

```bash
docker history <image>
```

- –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

```bash
docker buildx du
```

# ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π —á–µ–∫-–ª–∏—Å—Ç (–¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è)

- üß± –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π base image (slim/alpine/distroless)
- üèóÔ∏è Multi-stage build
- üßπ –ß–∏—Å—Ç–∫–∞ –∫–µ—à–µ–π –ø–∞–∫–µ—Ç–æ–≤ (apt/apk) –≤ —Ç–æ–º –∂–µ —Å–ª–æ–µ
- üì¶ –¢–æ–ª—å–∫–æ runtime-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–±–µ–∑ dev)
- üö´ `.dockerignore` –∏—Å–∫–ª—é—á–∞–µ—Ç –º—É—Å–æ—Ä
- üß© –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ `COPY` –¥–ª—è –∫—ç—à–∞
- üîê –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ image
- üìä –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–ª–æ–∏ —á–µ—Ä–µ–∑ `docker history`

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ¬´–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏¬ª

¬´–ß—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Docker-–æ–±—Ä–∞–∑, —è –Ω–∞—á–∏–Ω–∞—é —Å –≤—ã–±–æ—Ä–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ base image, –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É—é multi-stage build, —á—Ç–æ–±—ã –≤ runtime –ø–æ–ø–∞–¥–∞–ª–∏ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã. –£–±–∏—Ä–∞—é dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —á–∏—â—É –∫–µ—à–∏ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—é `.dockerignore`, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é —Å–ª–æ–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ `COPY` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî distroless –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ –º–µ–Ω—å—à–µ–≥–æ attack surface.¬ª

</p></details>

---

## ‚ùì 6. –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (22:11)](https://youtu.be/QqF0656aBPc?t=1331)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ü–æ—á–µ–º—É –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è?

–§–∞–π–ª—ã, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ **–≤–Ω—É—Ç—Ä—å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**, –∂–∏–≤—É—Ç –≤ –µ–≥–æ writable-layer.  
üßº –ü—Ä–∏ **—É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** —ç—Ç–æ—Ç —Å–ª–æ–π –∏—Å—á–µ–∑–∞–µ—Ç ‚Üí –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–¥–∞—é—Ç.

‚úÖ –†–µ—à–µ–Ω–∏–µ: —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ **–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**.

## ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

### 1Ô∏è‚É£ Docker Volumes (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±) üì¶

- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤ Docker-managed storage)
- –ü–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚úÖ
- –£–¥–æ–±–Ω–æ –±—ç–∫–∞–ø–∏—Ç—å/–ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å

–ü—Ä–∏–º–µ—Ä:

```bash
docker volume create app_data
docker run -v app_data:/var/lib/app my_image
```

### 2Ô∏è‚É£ Bind mount (–ø–∞–ø–∫–∞ —Å —Ö–æ—Å—Ç–∞) üìÅ

- –ú–æ–Ω—Ç–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Ö–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –£–¥–æ–±–Ω–æ –¥–ª—è dev –∏ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—É—Ç–µ–π

–ü—Ä–∏–º–µ—Ä:

```bash
docker run -v /srv/app-data:/var/lib/app my_image
```

‚ö†Ô∏è –ú–∏–Ω—É—Å: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö–æ—Å—Ç–∞ –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

### 3Ô∏è‚É£ –í–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ / —Å–µ—Ç–µ–≤—ã–µ —Ç–æ–º–∞ ‚òÅÔ∏è

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:

- NFS / SMB
- –æ–±–ª–∞—á–Ω—ã–µ –¥–∏—Å–∫–∏ (EBS, Persistent Disk)
- Kubernetes PVC (–µ—Å–ª–∏ –≤ k8s) üß±

‚úÖ –ü–ª—é—Å—ã: –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

## üßØ –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ –±—ç–∫–∞–ø—ã

–î–∞–∂–µ —Å volumes –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –∏–∑-–∑–∞:

- —É–¥–∞–ª–µ–Ω–∏—è volume
- –æ—à–∏–±–æ–∫ –Ω–∞ –¥–∏—Å–∫–µ
- —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ üòÖ

‚úÖ –ü–æ—ç—Ç–æ–º—É:

- –¥–µ–ª–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ **–±—ç–∫–∞–ø—ã** (snapshot/–∞—Ä—Ö–∏–≤)
- —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ (–æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, backup-—Å–∏—Å—Ç–µ–º–∞)

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –µ–≥–æ writable-layer. –î–ª—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ —è –≤—ã–Ω–æ—à—É –∏—Ö –≤–æ –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: –æ–±—ã—á–Ω–æ Docker volumes –∏–ª–∏ bind mount, –∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ ‚Äî —Å–µ—Ç–µ–≤—ã–µ/–æ–±–ª–∞—á–Ω—ã–µ —Ç–æ–º–∞ (–∏–ª–∏ PVC –≤ Kubernetes). –ü–ª—é—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑—É—é –±—ç–∫–∞–ø—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ volume ‚Äî —ç—Ç–æ –Ω–µ –±—ç–∫–∞–ø.¬ª

</p></details>

---

## ‚ùì 7. –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ –æ—Ç root, –∞ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, postgres), –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –±—É–¥—É—Ç —É —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —Å–æ–∑–¥–∞—ë—Ç (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ volume/bind mount), –∏ –∫–∞–∫–∏–µ best practices –µ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (23:18)](https://youtu.be/QqF0656aBPc?t=1398)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ö–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –±—É–¥—É—Ç —É —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ü–µ—Å—Å?

–í Linux **–≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ –≥—Ä—É–ø–ø–æ–π** –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ—Ç, –∫—Ç–æ –∏—Ö —Å–æ–∑–¥–∞–ª:

- üë§ **UID** –ø—Ä–æ—Ü–µ—Å—Å–∞ ‚Üí –≤–ª–∞–¥–µ–ª–µ—Ü —Ñ–∞–π–ª–∞
- üë• **GID** –ø—Ä–æ—Ü–µ—Å—Å–∞ ‚Üí –≥—Ä—É–ø–ø–∞ —Ñ–∞–π–ª–∞
- üîê –ü—Ä–∞–≤–∞ (mode) –∑–∞–≤–∏—Å—è—Ç –æ—Ç **umask** –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –ø—Ä–∞–≤ –∫–∞—Ç–∞–ª–æ–≥–∞

üìå –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç: **–Ω–∞ volume/bind mount –≤–∞–∂–Ω—ã –∏–º–µ–Ω–Ω–æ UID/GID**, –∞ –Ω–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`postgres`).

## üì¶ –ß—Ç–æ –±—É–¥–µ—Ç –Ω–∞ Docker Volume vs Bind Mount

### ‚úÖ Docker Volume

- –î–∞–Ω–Ω—ã–µ –ª–µ–∂–∞—Ç –≤ Docker-managed storage
- –§–∞–π–ª—ã –±—É–¥—É—Ç –∏–º–µ—Ç—å **UID/GID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É `postgres` —á–∞—Å—Ç–æ UID 999 ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—Ä–∞–∑–∞)
- –û–±—ã—á–Ω–æ –º–µ–Ω—å—à–µ ‚Äú—Å—é—Ä–ø—Ä–∏–∑–æ–≤‚Äù, –ø–æ—Ç–æ–º—É —á—Ç–æ volume –ø—Ä–æ—â–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–¥ –Ω—É–∂–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞

### üìÅ Bind mount (–ø–∞–ø–∫–∞ —Ö–æ—Å—Ç–∞)

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∏—à–µ—Ç **–≤ —Ä–µ–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É —Ö–æ—Å—Ç–∞**
- –ù–∞ —Ö–æ—Å—Ç–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å **—Ç–µ–º –∂–µ —á–∏—Å–ª–æ–≤—ã–º UID/GID**, —á—Ç–æ –±—ã–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ  
  (–Ω–∞ —Ö–æ—Å—Ç–µ —ç—Ç–æ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ ‚Äú999‚Äù, –ª–∏–±–æ –∫–∞–∫ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –µ—Å–ª–∏ UID —Å–æ–≤–ø–∞–ª)

‚ö†Ô∏è –ß–∞—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞: `Permission denied`, –µ—Å–ª–∏:

- –∫–∞—Ç–∞–ª–æ–≥ –Ω–∞ —Ö–æ—Å—Ç–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–º—É UID/GID
- –Ω–µ—Ç –ø—Ä–∞–≤–∞ –∑–∞–ø–∏—Å–∏ (mode/ACL)
- –≤–∫–ª—é—á—ë–Ω SELinux/AppArmor –∏ –Ω–µ—Ç –Ω—É–∂–Ω—ã—Ö –º–µ—Ç–æ–∫/–ø—Ä–æ—Ñ–∏–ª–µ–π

## üß© –ü–æ—á–µ–º—É ‚Äú–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚Äù –Ω–µ —Å–ø–∞—Å–∞–µ—Ç?

–ü–æ—Ç–æ–º—É —á—Ç–æ —è–¥—Ä–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –ø–æ **—á–∏—Å–ª–∞–º UID/GID**.  
–ï—Å–ª–∏ UID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ bind mount ‚Äî –∑–∞–ø–∏—Å—å –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç ‚ùå

# ‚úÖ Best practices –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –ø—Ä–∞–≤–∞–º

## 1Ô∏è‚É£ –ó–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ –æ—Ç root (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) üõ°Ô∏è

- `USER` –≤ Dockerfile
- `docker run --user <uid>:<gid>`
- –≤ Kubernetes: `runAsUser`, `runAsGroup`, `fsGroup`

## 2Ô∏è‚É£ –§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å UID/GID —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π üî¢

- –∑–∞–¥–∞–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ UID/GID –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ–±—Ä–∞–∑–µ
- –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äúpostgres = 999‚Äù)

‚úÖ –≠—Ç–æ —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å bind mounts.

## 3Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ –∑–∞—Ä–∞–Ω–µ–µ üìÅ

–ù–∞ —Ö–æ—Å—Ç–µ –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –ø—Ä–∞–≤–∞ –ø–æ–¥ –Ω—É–∂–Ω—ã–π UID/GID:

- `chown -R <uid>:<gid> /srv/app-data`
- `chmod`/ACL –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

üö´ –ù–µ –ª–µ—á–∏—Ç—å –≤—Å—ë `chmod 777` ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

## 4Ô∏è‚É£ –ê–∫–∫—É—Ä–∞—Ç–Ω—ã–π init/chown –≤ entrypoint üß∞

–ò–Ω–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –∫–∞–∫ root, –¥–µ–ª–∞–µ—Ç `chown` –Ω–∞ mounted –∫–∞—Ç–∞–ª–æ–≥, –∑–∞—Ç–µ–º **drop-–∏—Ç –ø—Ä–∞–≤–∞** –¥–æ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —é–∑–µ—Ä–∞.

- ‚úÖ —É–¥–æ–±–Ω–æ –¥–ª—è volumes
- ‚ö†Ô∏è –≤–∞–∂–Ω–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Äú–æ–∫–Ω–æ‚Äù root –∏ –Ω–µ –¥–µ–ª–∞—Ç—å –ª–∏—à–Ω–µ–≥–æ

## 5Ô∏è‚É£ –£—á–∏—Ç—ã–≤–∞—Ç—å SELinux/AppArmor üß±

–î–∞–∂–µ –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö UID/GID –∏ –ø—Ä–∞–≤–∞—Ö bind mount –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–§–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –ø–æ **UID/GID –ø—Ä–æ—Ü–µ—Å—Å–∞** –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–∞ volumes –∏ bind mounts –≤–∞–∂–Ω—ã —á–∏—Å–ª–æ–≤—ã–µ UID/GID: –Ω–∞ bind mount –æ–Ω–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –Ω–∞ —Ö–æ—Å—Ç–µ, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞/–ø—Ä–∞–≤ —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç `Permission denied`. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏: –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –æ—Ç root, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å UID/GID, –∑–∞—Ä–∞–Ω–µ–µ –≥–æ—Ç–æ–≤–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ (chown/ACL), –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –¥–µ–ª–∞—Ç—å init/chown –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å SELinux/AppArmor.¬ª

</p></details>

---

## ‚ùì 8. –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ç–∏–ø—ã network –≤ docker?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (24:55)](https://youtu.be/QqF0656aBPc?t=1495)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ Docker network?

Docker network ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- üåê –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º
- üö™ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Å —Ö–æ—Å—Ç–∞/—Å–Ω–∞—Ä—É–∂–∏
- üß≠ –∫–∞–∫–æ–π —Å–µ—Ç–µ–≤–æ–π –¥—Ä–∞–π–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (bridge/host/overlay/‚Ä¶)

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ç–∏:

```bash
docker network ls
```

# ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã —Å–µ—Ç–µ–π (drivers)

## 1Ô∏è‚É£ bridge (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) üåâ

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ IP –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
- –í—ã—Ö–æ–¥ –Ω–∞—Ä—É–∂—É —á–µ—Ä–µ–∑ NAT —Å —Ö–æ—Å—Ç–∞
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑–≤–Ω–µ –æ–±—ã—á–Ω–æ –Ω—É–∂–µ–Ω `-p` (publish ports) üö™

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: **–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**, –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ—Å—Ç–µ.

## 2Ô∏è‚É£ host üè†

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ç–µ–≤–æ–π —Å—Ç–µ–∫ **—Ö–æ—Å—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é**
- –ù–µ—Ç NAT, –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ IP –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ü–æ—Ä—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ = –ø–æ—Ä—Ç—ã —Ö–æ—Å—Ç–∞ (–º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å) ‚ö†Ô∏è

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**, —Å–ª–æ–∂–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π —Å–æ—Ñ—Ç, –æ—Ç–ª–∞–¥–∫–∞.  
‚ö†Ô∏è –ú–∏–Ω—É—Å: –º–µ–Ω—å—à–µ –∏–∑–æ–ª—è—Ü–∏–∏.

## 3Ô∏è‚É£ none üö´

- –£ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ **–Ω–µ—Ç —Å–µ—Ç–∏**
- –¢–æ–ª—å–∫–æ loopback

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è**, batch/—É—Ç–∏–ª–∏—Ç—ã –±–µ–∑ —Å–µ—Ç–∏.

## 4Ô∏è‚É£ overlay üï∏Ô∏è (–¥–ª—è Swarm / multi-host)

- –°–µ—Ç—å –ø–æ–≤–µ—Ä—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Docker-—Ö–æ—Å—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∫–∞–∫ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
- –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å Docker Swarm (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∞–º–∏)

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: **–∫–ª–∞—Å—Ç–µ—Ä**, —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö–æ—Å—Ç–∞—Ö.

## 5Ô∏è‚É£ macvlan üß¨

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç **—Å–≤–æ–π MAC –∏ IP** –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π —Å–µ—Ç–∏ (–∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞)
- –ú–æ–∂–Ω–æ —Ö–æ–¥–∏—Ç—å –≤ LAN –±–µ–∑ NAT

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–µ—Ç—å, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚Äú–∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç‚Äù.  
‚ö†Ô∏è –ú–∏–Ω—É—Å—ã: —Å–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ç—è—Ö.

## 6Ô∏è‚É£ ipvlan üß© (–ø–æ—Ö–æ–∂ –Ω–∞ macvlan, –Ω–æ –ø—Ä–æ—â–µ –ø–æ L3)

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç IP –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ MAC –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ß–∞—Å—Ç–æ —É–¥–æ–±–Ω–µ–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä–æ—É—Ç–∏–Ω–≥–∞

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ L3-—Å—Ü–µ–Ω–∞—Ä–∏–∏, –∫–æ–≥–¥–∞ macvlan –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç.

# üé§–ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ¬´–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏¬ª

¬´–í Docker –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ç–∏: `bridge` (–¥–µ—Ñ–æ–ª—Ç, NAT, –ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ `-p`), `host` (–±–µ–∑ –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Ç–∏, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å), `none` (–±–µ–∑ —Å–µ—Ç–∏), `overlay` (–º–µ–∂—Ö–æ—Å—Ç–æ–≤–∞—è —Å–µ—Ç—å –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞/Swarm), `macvlan/ipvlan` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π —Å–µ—Ç–∏). –í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –∏–∑–æ–ª—è—Ü–∏–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ multi-host.¬ª

</p></details>

---

## ‚ùì 9. –í —á—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ host –≤ Docker, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (27:12)](https://youtu.be/QqF0656aBPc?t=1632)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç host network mode?

`--network host` (Linux) –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **–∫ —Å–µ—Ç–µ–≤–æ–º—É —Å—Ç–µ–∫—É —Ö–æ—Å—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é**:

- –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **–Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π IP**
- **–Ω–µ—Ç NAT/iptables-–ø–µ—Ä–µ–≤–æ–¥–æ–≤**
- –ø–æ—Ä—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ = –ø–æ—Ä—Ç—ã —Ö–æ—Å—Ç–∞ üö™

## ‚úÖ –í —á—ë–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (–ø–æ—á–µ–º—É —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç)

### üöÄ 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–µ–Ω—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞

- –Ω–µ—Ç NAT –∏ –ª–∏—à–Ω–µ–π ‚Äú–æ–±–≤—è–∑–∫–∏‚Äù
- –º–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Å–µ—Ç—å
- –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è high-throughput/low-latency —Å–µ—Ä–≤–∏—Å–æ–≤

### üß© 2. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –∫–µ–π—Å–æ–≤

- –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã `-p`
- –ø—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ—Ä—Ç–æ–≤/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ—Ä—Ç–∞–º–∏
- —É–¥–æ–±–Ω–æ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç –º–Ω–æ–≥–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–π (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ—Ä—Ç–æ–≤)

### üõ† 3. –î–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º —Ö–æ—Å—Ç–∞ ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª

- –ø—Ä–æ—â–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –¥–µ–º–æ–Ω–∞–º–∏ –Ω–∞ `127.0.0.1` —Ö–æ—Å—Ç–∞
- —É–¥–æ–±–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞/–∞–≥–µ–Ω—Ç–æ–≤ (node-exporter-like), —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–∫—Å–∏, VPN/—Ç—É–Ω–Ω–µ–ª–µ–π

### üß™ 4. –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

- —Å–µ—Ç–µ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–ª–∏–∂–µ –∫ ‚Äú–Ω–∞—Ç–∏–≤–Ω–æ–º—É‚Äù
- –ª–µ–≥—á–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –Ω–µ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º

## ‚ö†Ô∏è –ù–æ –≥–¥–µ –∂–µ –∏–∑–æ–ª—è—Ü–∏—è?

–ò–∑–æ–ª—è—Ü–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ —Å–µ—Ç—å:

- ‚úÖ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (layers/volumes)
- ‚úÖ –ø—Ä–æ—Ü–µ—Å—Å—ã (namespaces, cgroups)
- ‚úÖ –ø—Ä–∞–≤–∞ (non-root, capabilities)
- ‚úÖ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU/RAM)

üëâ `host` **—Å–Ω–∏–º–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Å–µ—Ç–µ–≤—É—é –∏–∑–æ–ª—è—Ü–∏—é**, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è.

## üõë –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å)

- üîì –º–µ–Ω—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–ª–∏–∂–µ –∫ —Å–µ—Ç–µ–≤–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é —Ö–æ—Å—Ç–∞
- üöß –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç –Ω–∞ —Ö–æ—Å—Ç–µ ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç)
- üß© —Å–ª–æ–∂–Ω–µ–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ—Å—Ç–µ
- üß± –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ/–æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω–µ Linux (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Docker Desktop –∏–Ω–∞—á–µ)

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´Host network mode –∏—Å–ø–æ–ª—å–∑—É—é—Ç, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω—ã —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Å–µ—Ç–∏: –Ω–µ—Ç NAT, –º–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞, –ø—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Ä—Ç–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —Ö–æ—Å—Ç–∞. –ü—Ä–∏ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–ª–µ–∑–Ω–æ–π –∑–∞ —Å—á—ë—Ç –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–µ—Ç–µ–≤—É—é –∏–∑–æ–ª—è—Ü–∏—é –º—ã —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ –∂–µ—Ä—Ç–≤—É–µ–º. –ù–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ —Ä–∏—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤.¬ª

</p></details>

---

## ‚ùì 10. –†–∞—Å—Å–∫–∞–∂–∏, –∫–∞–∫ —Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏ —Å–æ–±–∏—Ä–∞–ª –∏ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (28:25)](https://youtu.be/QqF0656aBPc?t=1705)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ü–æ–¥—Ö–æ–¥ (—á—Ç–æ —è —Å—á–∏—Ç–∞—é ‚Äú–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º‚Äù)

–Ø –¥–µ–ª—é –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –Ω–∞ 3 —Å–ª–æ—è:

- üß± **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/—Ö–æ—Å—Ç** (CPU/RAM/disk/network)
- üê≥ **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã/–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** (—Ä–µ—Å—É—Ä—Å—ã, —Ä–µ—Å—Ç–∞—Ä—Ç—ã, –ª–∏–º–∏—Ç—ã, —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- üß© **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (RPS, latency, errors, –æ—á–µ—Ä–µ–¥—å, –ë–î)

–ò —Å—Ç–∞—Ä–∞—é—Å—å –∏–º–µ—Ç—å:

- üìà –º–µ—Ç—Ä–∏–∫–∏ (time-series)
- üßæ –ª–æ–≥–∏ (–ø–æ–∏—Å–∫/–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è)
- üß¨ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìà –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞–ª

### üß± –•–æ—Å—Ç/—É–∑–µ–ª

- üß† CPU usage, load average
- üíæ RAM, swap (–æ—Å–æ–±–µ–Ω–Ω–æ swap-in/out)
- üíΩ disk usage + inode usage
- üåê network RX/TX, drops, errors

üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- **node_exporter** + Prometheus

### üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (—Ä–µ—Å—É—Ä—Å—ã –∏ –∑–¥–æ—Ä–æ–≤—å–µ)

- üì¶ CPU/RAM per container
- üí• OOM kills / memory throttling
- üßØ restarts, exit codes
- ‚è≥ CPU throttling (cgroup)
- üì° network per container
- üíΩ I/O (read/write, latency), –µ—Å–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ

üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- **cAdvisor** (–∏–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ cgroups —á–µ—Ä–µ–∑ stack)
- –í Kubernetes: **kube-state-metrics** + –º–µ—Ç—Ä–∏–∫–∏ kubelet

### üß© –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (4 ‚Äú–∑–æ–ª–æ—Ç—ã—Ö —Å–∏–≥–Ω–∞–ª–∞‚Äù)

- üìà **Traffic**: RPS/QPS
- üê¢ **Latency**: p95/p99
- üß® **Errors**: 4xx/5xx, error rate
- üßØ **Saturation**: –æ—á–µ—Ä–µ–¥–∏, pool, DB connections

üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- Prometheus client libs (app metrics)
- blackbox_exporter (HTTP/TCP checks), –≥–¥–µ –Ω—É–∂–Ω–æ

## üßæ –ö–∞–∫–∏–µ –ª–æ–≥–∏ —Å–æ–±–∏—Ä–∞–ª –∏ –∫–∞–∫

### ‚úÖ –ß—Ç–æ —Å–æ–±–∏—Ä–∞–ª

- üê≥ stdout/stderr –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫)
- üß© app logs (structured JSON, request_id/trace_id)
- üß± —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ –Ω–æ–¥—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (kernel, kubelet, docker)

### üîß –ß–µ–º —Å–æ–±–∏—Ä–∞–ª

- **Grafana Loki** + **Promtail** (—á–∞—Å—Ç–æ) üî•
- –∏–ª–∏ **ELK/EFK**: Elasticsearch + Fluent Bit/Fluentd + Kibana
- –∏–Ω–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–∏–π SaaS (Datadog –∏ —Ç.–ø.)

üìå Best practice: **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ + –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ø–æ request_id/trace_id**.

## üö® –ê–ª–µ—Ä—Ç—ã (—á—Ç–æ –∞–ª–µ—Ä—Ç–∏–ª)

- üü• —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω / –≤—ã—Å–æ–∫–∏–π 5xx / latency p95/p99 –≤—ã—Ä–æ—Å–ª–∞
- üüß container restarts > N –∑–∞ –ø–µ—Ä–∏–æ–¥
- üß† memory –±–ª–∏–∑–∫–æ –∫ limit, OOM events
- üíΩ disk –ø–æ—á—Ç–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω (–≤–∫–ª—é—á–∞—è inode)
- üåê network errors/drops
- üê≥ Kubernetes: CrashLoopBackOff, Pending pods, NodeNotReady

üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- Prometheus alert rules ‚Üí **Alertmanager** ‚Üí Slack/Email/PagerDuty
- –∏–ª–∏ Grafana Unified Alerting (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –∫–∞–∫ ‚Äú–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã‚Äù)

## üß∞ –î–∞—à–±–æ—Ä–¥—ã (—á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª)

- üì¶ ‚ÄúService overview‚Äù: RPS, p95/p99, error rate, saturation
- üê≥ ‚ÄúContainers‚Äù: CPU/RAM, restarts, throttling, OOM
- üß± ‚ÄúNodes‚Äù: disk, swap, network, load
- üîé ‚ÄúDrill-down‚Äù: —Å—Å—ã–ª–∫–∏ –∏–∑ –∞–ª–µ—Ä—Ç–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∏ –ª–æ–≥–∏ (Loki/ELK)

üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- **Grafana** (–æ—Å–Ω–æ–≤–Ω–æ–π UI)

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–Ø —Å—Ç—Ä–æ—é –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Ç—Ä–∏ —Å–ª–æ—è: —É–∑–ª—ã (node_exporter), –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã/–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (cAdvisor, kube-state-metrics), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (RPS/latency/errors/saturation —á–µ—Ä–µ–∑ Prometheus). –õ–æ–≥–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑—É—é –∏–∑ stdout/stderr: —á–∞—â–µ Loki+Promtail –∏–ª–∏ EFK/ELK, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –≤ JSON –∏ —Å request_id –¥–ª—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏. –ê–ª–µ—Ä—Ç—ã –¥–µ–ª–∞—é —á–µ—Ä–µ–∑ Prometheus+Alertmanager (–∏–ª–∏ Grafana Alerting), –∏ –≤ –∫–∞–∂–¥—ã–π –∞–ª–µ—Ä—Ç –¥–æ–±–∞–≤–ª—è—é —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥ –∏ runbook ‚Äî —Ç–∞–∫ –±—ã—Å—Ç—Ä–µ–µ —Å–Ω–∏–∂–∞—Ç—å MTTR.¬ª

</p></details>

---

## ‚ùì 11. –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (29:14)](https://youtu.be/QqF0656aBPc?t=1754)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –°–Ω–∞—á–∞–ª–∞ –ø–æ–Ω—è—Ç—å: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äú—É–ø–∞–ª‚Äù –∏–ª–∏ ‚Äú–Ω–æ—Ä–º–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è‚Äù?

–ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–º (batch job) –∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é —Å—Ç–∞—Ç—É—Å –∏ –∫–æ–¥ –≤—ã—Ö–æ–¥–∞:

```bash
docker ps -a --no-trunc
```

–°–º–æ—Ç—Ä—é `STATUS` –∏ `Exited (code)` ‚Äî **–∫–æ–¥ –≤—ã—Ö–æ–¥–∞** —á–∞—Å—Ç–æ —Å—Ä–∞–∑—É –¥–∞—ë—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É üîç

## üßæ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–µ—Ä–≤—ã–π —à–∞–≥ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞)

```bash
docker logs <container_name_or_id>
```

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

```bash
docker logs -f --tail=200 <id>
```

üí° –ï—Å–ª–∏ –ª–æ–≥–æ–≤ –Ω–µ—Ç ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å –≤–æ–æ–±—â–µ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç (CMD/ENTRYPOINT, –ø—Ä–∞–≤–∞, –±–∏–Ω–∞—Ä–Ω–∏–∫).

## üîé –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–ø—É—Å–∫–∞: CMD/ENTRYPOINT, env, mounts, restart policy

```bash
docker inspect <container_id>
```

–ù–∞ —á—Ç–æ —Å–º–æ—Ç—Ä—é:

- üß© `Config.Cmd` / `Config.Entrypoint`
- üß™ `Env` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- üì¶ `Mounts` (volumes/bind mounts) –∏ –ø—Ä–∞–≤–∞
- üîÅ `RestartPolicy` (–º–æ–∂–µ—Ç ‚Äú–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å‚Äù –ø–∞–¥–µ–Ω–∏–µ)
- üåê –ø–æ—Ä—Ç—ã/—Å–µ—Ç—å

## üß™ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç ‚Äî –ø–æ–ª–µ–∑–Ω–æ –∑–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Ä—É–∫–∞–º–∏.

### –í–∞—Ä–∏–∞–Ω—Ç A: –∑–∞–π—Ç–∏ –≤ shell

```bash
docker run --rm -it --entrypoint sh <image>
```

(–∏–ª–∏ `bash`, –µ—Å–ª–∏ –µ—Å—Ç—å)

### –í–∞—Ä–∏–∞–Ω—Ç B: –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å CMD

```bash
docker run --rm -it <image> <–∫–æ–º–∞–Ω–¥–∞>
```

‚úÖ –î–∞–ª—å—à–µ: –∑–∞–ø—É—Å–∫–∞—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é –∏ –ª–æ–≤–ª—é —Ä–µ–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É.

## üõ† –¢–∏–ø–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–∏ –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

### 1Ô∏è‚É£ –ù–µ–≤–µ—Ä–Ω—ã–π CMD/ENTRYPOINT

- –±–∏–Ω–∞—Ä–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `docker inspect`, –∑–∞—Ç–µ–º `docker run --entrypoint ...`

### 2Ô∏è‚É£ –ù–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ / env vars

- –Ω–µ–≤–µ—Ä–Ω—ã–π DSN –ë–î, –Ω–µ –∑–∞–¥–∞–Ω —Å–µ–∫—Ä–µ—Ç, –Ω–µ –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ñ–∏–≥

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `docker logs`, `docker inspect` ‚Üí `Env`

### 3Ô∏è‚É£ –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ volume/bind mount üîê

- `Permission denied` –Ω–∞ `/data`, `/var/lib/...`
- –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ –æ—Ç root

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `docker logs`, `docker inspect` ‚Üí `Mounts`, –ø—Ä–∞–≤–∞ –Ω–∞ —Ö–æ—Å—Ç–µ + UID/GID

### 4Ô∏è‚É£ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–∞ üö™

- –ø–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç –Ω–∞ —Ö–æ—Å—Ç–µ –ø—Ä–∏ `-p`

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –æ—à–∏–±–∫–∞ –≤ –≤—ã–≤–æ–¥–µ/–ª–æ–≥–∞—Ö, –Ω–∞ —Ö–æ—Å—Ç–µ: `ss -lntp | grep <port>`

### 5Ô∏è‚É£ OOM / –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ üí•

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–≥ –±—ã—Ç—å —É–±–∏—Ç OOM killer‚Äô–æ–º.

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
docker inspect <id> --format '{{.State.OOMKilled}}'
docker inspect <id> --format '{{.State.ExitCode}}'
```

## üß∞ ‚Äú–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π‚Äù –ø–æ—Ä—è–¥–æ–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (—è —Ç–∞–∫ –¥–µ–ª–∞—é)

1. üìå `docker ps -a` ‚Üí exit code
2. üßæ `docker logs` ‚Üí —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
3. üîé `docker inspect` ‚Üí Cmd/Entrypoint/env/mounts/restart policy
4. üß™ `docker run -it --entrypoint sh ...` ‚Üí —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
5. üßØ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞/–ø–æ—Ä—Ç—ã/—Ä–µ—Å—É—Ä—Å—ã (OOM, disk)

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, —è —Å–º–æ—Ç—Ä—é `docker ps -a` –∏ –∫–æ–¥ –≤—ã—Ö–æ–¥–∞, –∑–∞—Ç–µ–º `docker logs`. –ü–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è—é `docker inspect` (Entrypoint/CMD, env, mounts, restart policy). –ï—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ –æ—á–µ–≤–∏–¥–Ω–∞ ‚Äî –∑–∞–ø—É—Å–∫–∞—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ —Å `--entrypoint sh/bash` –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–∂—É –∑–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é. –¢–∏–ø–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã: –Ω–µ–≤–µ—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤/env, –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ volume/bind mount, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤, OOM –∏–ª–∏ –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤.¬ª

</p></details>

---

# 5. Ansible

## ‚ùì 1. –ß–µ–º tasks –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç —Ä–æ–ª–µ–π?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (31:11)](https://youtu.be/QqF0656aBPc)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ë–∞–∑–æ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ

- üß© **Task** ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç—ã –≤ Ansible).
- üèó **Role** ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ + —à–∞–±–ª–æ–Ω—ã + —Ñ–∞–π–ª—ã, –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–æ–¥—É–ª—å.

üìå –§–æ—Ä–º—É–ª–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é:  
**Task ‚Äî —ç—Ç–æ —à–∞–≥, Role ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.**

# üß© –ß—Ç–æ —Ç–∞–∫–æ–µ Task?

Task ‚Äî —ç—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è Ansible:

```yaml
- name: Install nginx
  apt:
    name: nginx
    state: present
```

üîπ –û–±—ã—á–Ω–æ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏:

- playbook‚Äô–∞ (`tasks:`)
- –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ä–æ–ª–∏ (`roles/<role_name>/tasks/main.yml`)

‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

# üèó –ß—Ç–æ —Ç–∞–∫–æ–µ Role?

Role ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```
roles/
  nginx/
    tasks/
    handlers/
    templates/
    files/
    vars/
    defaults/
    meta/
```

Role –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å:

- üì¶ –∑–∞–¥–∞—á–∏ (tasks)
- üîÅ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (handlers)
- üìÅ —Ñ–∞–π–ª—ã –∏ —à–∞–±–ª–æ–Ω—ã
- üß† –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (vars/defaults)
- üîó –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (meta)

‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî **–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**.

# üéØ –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### üß© Tasks

- –ù–µ–±–æ–ª—å—à–∏–µ playbook‚Äô–∏
- –ë—ã—Å—Ç—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –ü—Ä–æ—Å—Ç–µ–π—à–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üèó Roles

- –ü—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥–∞
- –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã (nginx, postgres, docker)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´Task –≤ Ansible ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞. Role ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (vars, templates, handlers). Tasks ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏, –∞ Roles ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.¬ª

</p></details>

---

## ‚ùì 2. –ö–∞–∫ —Ç—ã –æ—Ä–≥–∞–Ω–∏–∑—É–µ—à—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ä–∞–∑–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é Ansible?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (32:31)](https://youtu.be/QqF0656aBPc?t=1951)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ö–∞–∫ —è –æ—Ä–≥–∞–Ω–∏–∑—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–µ—Ä–≤–µ—Ä–æ–≤

### ‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø

–Ø —Å—Ç–∞—Ä–∞—é—Å—å —Ä–∞–∑–¥–µ–ª—è—Ç—å:

- üß© **—á—Ç–æ** —Å—Ç–∞–≤–∏–º (–Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤) ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ/–≥—Ä—É–ø–ø—ã
- üèó **–∫–∞–∫** —Å—Ç–∞–≤–∏–º (–ª–æ–≥–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏) ‚Üí —Ä–æ–ª–∏/—Ç–∞—Å–∫–∏
- üß≠ **–≥–¥–µ** —Å—Ç–∞–≤–∏–º (—Ç–∏–ø—ã —Å–µ—Ä–≤–µ—Ä–æ–≤) ‚Üí inventory groups

# üß≠ Inventory: –≥—Ä—É–ø–ø–∏—Ä—É–µ–º —Å–µ—Ä–≤–µ—Ä—ã –ø–æ —Ä–æ–ª—è–º/—Ç–∏–ø–∞–º

–ù–∞–ø—Ä–∏–º–µ—Ä:

- `web`
- `db`
- `cache`
- `monitoring`

üìå –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: —á–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞, —Ç–µ–º –ø—Ä–æ—â–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å.

# üì¶ –ù–∞–±–æ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ group_vars / host_vars (—Å–∞–º—ã–π —á–∞—Å—Ç—ã–π –ø–æ–¥—Ö–æ–¥)

### üß© –ü—Ä–∏–º–µ—Ä –∏–¥–µ–∏

–í `group_vars/web.yml`:

- –ø–∞–∫–µ—Ç—ã –¥–ª—è web

–í `group_vars/db.yml`:

- –ø–∞–∫–µ—Ç—ã –¥–ª—è DB

–ó–∞—Ç–µ–º –æ–¥–Ω–∞ –æ–±—â–∞—è —Ä–æ–ª—å **packages** —Å—Ç–∞–≤–∏—Ç —Å–ø–∏—Å–æ–∫ `packages_list`.

‚úÖ –ü–ª—é—Å—ã:

- –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Å–µ—Ä–≤–µ—Ä–æ–≤

</p></details>

---

## ‚ùì 3. –ö–∞–∫ –º–æ–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–∫–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤–Ω–µ —Ä–æ–ª–µ–π –≤ Ansible?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (34:05)](https://youtu.be/QqF0656aBPc?t=2045)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## ‚úÖ –ë–∞–∑–æ–≤—ã–π –∏ —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Å–ø–æ—Å–æ–±: `group_vars/` –∏ `host_vars/`

### üß≠ –ò–¥–µ—è

- –í `group_vars/web.yml` —Ö—Ä–∞–Ω—é —Å–ø–∏—Å–æ–∫ `packages_list`
- –í `group_vars/db.yml` ‚Äî —Å–≤–æ–π —Å–ø–∏—Å–æ–∫
- –í playbook –∏—Å–ø–æ–ª—å–∑—É—é –æ–±—â–∏–π task/—Ä–æ–ª—å ‚Äú—É—Å—Ç–∞–Ω–æ–≤–∫–∏‚Äù (–ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π), –Ω–æ **–¥–∞–Ω–Ω—ã–µ** –∂–∏–≤—É—Ç –≤ vars

‚úÖ –ü–ª—é—Å—ã:

- –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞, –Ω–∞—Ç–∏–≤–Ω–æ –¥–ª—è Ansible
- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –≥—Ä—É–ø–ø–∞–º

‚ö†Ô∏è –ú–∏–Ω—É—Å—ã:

- –µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π, –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

</p></details>

---

## ‚ùì 4. –ì–¥–µ –≤ Ansible –æ–±—ã—á–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥—Ä—É–ø–ø —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –∫–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (35:01)](https://youtu.be/QqF0656aBPc?t=2101)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

–û–±—ã—á–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥—Ä—É–ø–ø —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤:

- üß≠ **Inventory (–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)** ‚Äî –≥–¥–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ö–æ—Å—Ç—ã –∏ –≥—Ä—É–ø–ø—ã
- üóÇ **`group_vars/`** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≥—Ä—É–ø–ø
- üß© (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) **`host_vars/`** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤

üìå –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞: **Inventory + Group Variables (group_vars) / Host Variables (host_vars)**  
–ò –≤ —Ü–µ–ª–æ–º —ç—Ç–æ —á–∞—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º–∞ **Ansible Variables + Variable Precedence**.

## üß≠ Inventory: –≥–¥–µ –∑–∞–¥–∞—é—Ç—Å—è –≥—Ä—É–ø–ø—ã

Inventory –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- –∫–∞–∫–∏–µ —Ö–æ—Å—Ç—ã –µ—Å—Ç—å
- –≤ –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –æ–Ω–∏ —Å–æ—Å—Ç–æ—è—Ç (`web`, `db`, `cache`)

‚úÖ –≠—Ç–æ ‚Äú–∫–∞—Ä—Ç–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã‚Äù üó∫Ô∏è

## üóÇ group_vars: –≥–¥–µ –∑–∞–¥–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ –≥—Ä—É–ø–ø—É

–§–∞–π–ª—ã –≤–∏–¥–∞:

- `group_vars/web.yml`
- `group_vars/db.yml`

–¢–∞–º –æ–±—ã—á–Ω–æ –¥–µ—Ä–∂–∞—Ç:

- üì¶ —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
- üåê –ø–æ—Ä—Ç—ã/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞
- üîê –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üß© –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–æ–ª–µ–π

‚úÖ –≠—Ç–æ ‚Äú–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å–µ—Ä–≤–µ—Ä–æ–≤‚Äù üß±

## üß© host_vars: —Ç–æ—á–µ—á–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–∞—à–∏–Ω

–§–∞–π–ª—ã –≤–∏–¥–∞:

- `host_vars/server-01.yml`

–ò—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–≥–¥–∞:

- –Ω—É–∂–µ–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, IP VIP, –æ—Å–æ–±–∞—è –¥–∏—Å–∫–æ–≤–∞—è —Å—Ö–µ–º–∞)

‚ö†Ô∏è –ù–∞ –∏–Ω—Ç–µ—Ä–≤—å—é —Ö–æ—Ä–æ—à–æ —Å–∫–∞–∑–∞—Ç—å: **host_vars –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å**, –ª—É—á—à–µ —Ä–µ—à–∞—Ç—å —á–µ—Ä–µ–∑ –≥—Ä—É–ø–ø—ã.

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ Ansible –æ–±—ã—á–Ω–æ –∑–∞–¥–∞—é—Ç —á–µ—Ä–µ–∑ **Inventory** (–≥—Ä—É–ø–ø—ã —Ö–æ—Å—Ç–æ–≤) –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º **`group_vars`**. –î–ª—è —á–∞—Å—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **`host_vars`**. –í —Ü–µ–ª–æ–º —ç—Ç–æ —á–∞—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Ansible –∏ –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ (variable precedence).¬ª

</p></details>

---

## ‚ùì 5. –ì–¥–µ –≤ Ansible —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (36:40)](https://youtu.be/QqF0656aBPc?t=2200)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Ansible –º–æ–≥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Ö —Ö—Ä–∞–Ω—è—Ç:

- üóÇ –≤ **`group_vars/`** –∏ **`host_vars/`**
- üìò –≤ **playbook‚Äô–∞—Ö** (`vars`, `vars_files`)
- üèó –≤–Ω—É—Ç—Ä–∏ **roles** (`defaults/`, `vars/`)
- üì¶ –≤ **inventory** (ini/yaml) –∏/–∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
- üîê –≤ **Ansible Vault** (—Å–µ–∫—Ä–µ—Ç—ã)
- üß† –∫–∞–∫ **facts** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ö–æ—Å—Ç–µ)
- ‚ö° —á–µ—Ä–µ–∑ **extra vars** (`-e`)

–ù–∞ –∏–Ω—Ç–µ—Ä–≤—å—é –ø–æ–ª–µ–∑–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: –≤–∞–∂–µ–Ω **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (variable precedence)**.

## üóÇ –°–∞–º–æ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ: `group_vars/` –∏ `host_vars/`

### ‚úÖ `group_vars/`

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≥—Ä—É–ø–ø —Ö–æ—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä `web`, `db`):

- `group_vars/web.yml`
- `group_vars/db.yml`

### ‚úÖ `host_vars/`

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞:

- `host_vars/server-01.yml`

üìå –≠—Ç–æ ‚Äú–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —Å–µ—Ä–≤–µ—Ä–æ–≤‚Äù + ‚Äú–∏—Å–∫–ª—é—á–µ–Ω–∏—è‚Äù.

## üìò –í playbook‚Äô–µ

### üß© Inline vars

```yaml
vars:
  app_port: 8080
```

### üìé `vars_files`

```yaml
vars_files:
  - vars/common.yml
```

‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è –æ–±—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

## üèó –í roles (—á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ)

- `roles/<role>/defaults/main.yml` üü¶ ‚Äî **–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–ª–µ–≥—á–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è)
- `roles/<role>/vars/main.yml` üü• ‚Äî ‚Äú–∂—ë—Å—Ç—á–µ‚Äù, –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–ª–æ–∂–Ω–µ–µ

üìå –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏: ¬´defaults ‚Äî –¥–ª—è –¥–µ—Ñ–æ–ª—Ç–æ–≤, vars ‚Äî –¥–ª—è –ø–æ—á—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π¬ª.

## üß≠ –í inventory (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º)

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π inventory (ini/yaml)

–ú–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ inventory.

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π inventory

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ –æ–±–ª–∞–∫–∞/CMDB (–Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–µ–≥–∏, metadata).

## üß† Facts (ansible_facts)

- —Ñ–∞–∫—Ç—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –º–æ–¥—É–ª–µ–º `setup`
- –ø—Ä–∏–º–µ—Ä: `ansible_os_family`, `ansible_distribution`, `ansible_default_ipv4.address`

‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É—Å–ª–æ–≤–∏–π `when:` –∏ OS-specific –ª–æ–≥–∏–∫–∏.

## üîê –°–µ–∫—Ä–µ—Ç—ã: Ansible Vault

- –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏
- —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö `*.yml` —Ñ–∞–π–ª–∞—Ö üõ°Ô∏è

## ‚ö° Extra vars (`-e`) ‚Äî —Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≤–∞–∂–Ω–æ!)

–ü—Ä–∏–º–µ—Ä:

```bash
ansible-playbook site.yml -e "env=prod"
```

üìå –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ CI/CD.

## üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é

¬´–í Ansible –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ã—á–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `group_vars/` –∏ `host_vars/`, —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∑–∞–¥–∞–≤–∞—Ç—å—Å—è –≤ playbook‚Äô–∞—Ö (`vars`, `vars_files`), –≤–Ω—É—Ç—Ä–∏ —Ä–æ–ª–µ–π (`defaults` –∏ `vars`), –≤ inventory (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º), –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∫–∞–∫ facts, –∑–∞–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `-e` (extra vars), –∞ —Å–µ–∫—Ä–µ—Ç—ã –æ–±—ã—á–Ω–æ —Ö—Ä–∞–Ω—è—Ç –≤ Ansible Vault. –ü—Ä–∏ —ç—Ç–æ–º –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (variable precedence).¬ª

</p></details>

---

# 6. CI-CD

## ‚ùì 1. –ú–æ–∂–µ—à—å –æ–ø–∏—Å–∞—Ç—å —Å–≤–æ–π/–∏–¥–µ–∞–ª—å–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–µ–ø–ª–æ—è –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞? –ö–∞–∫–∏–µ —à–∞–≥–∏ –≤ –Ω—ë–º –µ—Å—Ç—å –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ?

**[üì∫ –í–∏–¥–µ–æ-–≤–æ–ø—Ä–æ—Å (39:47)](https://youtu.be/QqF0656aBPc?t=2387)**

<details><summary><strong>–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</strong></summary><p>

## üß† 0) –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –ø–∞–π–ø–ª–∞–π–Ω–∞

–°–¥–µ–ª–∞—Ç—å –¥–µ–ø–ª–æ–π:

- ‚úÖ **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º** (same inputs ‚Üí same outputs)
- üîê **–±–µ–∑–æ–ø–∞—Å–Ω—ã–º** (–∫–æ–Ω—Ç—Ä–æ–ª—å —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–æ–≤)
- üìà **–Ω–∞–±–ª—é–¥–∞–µ–º—ã–º** (–º–µ—Ç—Ä–∏–∫–∏/–ª–æ–≥–∏/–∞–ª–µ—Ä—Ç—ã)
- üßØ **–æ–±—Ä–∞—Ç–∏–º—ã–º** (–±—ã—Å—Ç—Ä—ã–π rollback)

# üß≠ 1) –¢—Ä–∏–≥–≥–µ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### üéØ –¢—Ä–∏–≥–≥–µ—Ä—ã

- üßë‚Äçüíª PR/MR (–ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ preview)
- üè∑Ô∏è Tag/Release (stage/prod)
- üïí Scheduled (security rebuild, dependency updates)

### üßæ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- üß© –≤—ã–±—Ä–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ `dev/stage/prod`
- üîê –ø–æ–ª—É—á–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Secret Store (Vault/KMS/GitHub Secrets)
- üß∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–µ—à –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

# üß™ 2) –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (–¥–æ —Ç—è–∂—ë–ª—ã—Ö —à–∞–≥–æ–≤)

- üßπ lint/format (pre-commit, eslint, flake8, golangci-lint)
- ‚úÖ unit tests
- üì¶ –ø—Ä–æ–≤–µ—Ä–∫–∞ lockfile/–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

üìå –õ–æ–≥–∏–∫–∞: ¬´–¥–µ—à—ë–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ¬ª.

# üèóÔ∏è 3) –°–±–æ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ (immutable)

- üê≥ build Docker image (—á–∞—Å—Ç–æ multi-stage)
- üì¶ –∏–ª–∏ build –±–∏–Ω–∞—Ä–Ω–∏–∫–∞/–ø–∞–∫–µ—Ç–∞ (Go/Java/.NET)
- üè∑Ô∏è —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: `commit SHA` / `semver`

‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π** –∏ **–≤–µ—Ä—Å–∏—Ä—É–µ–º—ã–π**.

# üîê 4) Security checks (shift-left)

- üß™ SAST (—Å—Ç–∞—Ç-–∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞)
- üßØ dependency scan / SBOM
- üê≥ image scan (CVE –≤ –æ–±—Ä–∞–∑–µ)
- üîë secret scan (—É—Ç–µ—á–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤)

# üè∑Ô∏è 5) –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

- üê≥ push image –≤ registry (ECR/GCR/Harbor)
- üì¶ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ (Nexus/Artifactory)
- üßæ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–æ–¥–ø–∏—Å—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ (cosign)

# üß™ 6) –î–µ–ø–ª–æ–π –≤ DEV / Preview

- üöÄ –¥–µ–ø–ª–æ–π –≤ dev/preview (—ç–øhemeral –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥ PR ‚Äî –ø–æ –∑—Ä–µ–ª–æ—Å—Ç–∏)
- üß™ smoke tests (–∂–∏–≤ –ª–∏ —Å–µ—Ä–≤–∏—Å)
- üîÅ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã

‚ö†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ.

# üß´ 7) –î–µ–ø–ª–æ–π –≤ STAGE (–ø—Ä–µ–¥–ø—Ä–æ–¥)

- –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ prod (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏/–ª–∏–º–∏—Ç—ã)
- üß™ E2E —Ç–µ—Å—Ç—ã
- üìà –ª—ë–≥–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞/–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üßë‚Äç‚úàÔ∏è approval gate (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

# üü© 8) –ü—Ä–æ–¥–∞–∫—à–Ω-–¥–µ–ø–ª–æ–π (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)

### üîÅ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏

- üü¶ Rolling update
- üü© Blue/Green
- üü® Canary (—á–∞—Å—Ç–æ –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å)
- üß© Feature flags –¥–ª—è ‚Äú–º—è–≥–∫–∏—Ö‚Äù —Ä–µ–ª–∏–∑–æ–≤

‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

- üîê RBAC/–∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–æ–≤
- üßæ release notes
- üßØ –ø–ª–∞–Ω rollback

---

# üìà 9) Post-deploy –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞:

- ‚úÖ readiness/health checks
- üìâ error rate, latency p95/p99
- üî• CPU/RAM, —Ä–µ—Å—Ç–∞—Ä—Ç—ã, OOM
- üßæ –ª–æ–≥–∏ (–ø–æ request_id/trace_id)

üìå –ï—Å–ª–∏ –º–µ—Ç—Ä–∏–∫–∏ ‚Äú–∫—Ä–∞—Å–Ω–µ—é—Ç‚Äù ‚Äî rollback/stop rollout.

# üßØ 10) Rollback –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

- ‚è™ –æ—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π stable –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
- üß∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏: backward-compatible –∏–ª–∏ forward-fix
- üßæ RCA/–ø–æ—Å—Ç–º–æ—Ä—Ç–µ–º –¥–ª—è —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤

# üß∞ 11) –£–ª—É—á—à–µ–Ω–∏—è ‚Äú–ø–æ –∑—Ä–µ–ª–æ—Å—Ç–∏‚Äù

- üß± IaC (Terraform/Ansible)
- üåø GitOps (ArgoCD/Flux –¥–ª—è k8s)
- üîê policy-as-code (OPA/Gatekeeper)
- üß¨ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ (OpenTelemetry)

# üé§ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ¬´–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏¬ª

¬´–ü–∞–π–ø–ª–∞–π–Ω: trigger ‚Üí lint+unit ‚Üí build immutable –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ ‚Üí security checks ‚Üí publish ‚Üí deploy dev (smoke+integration) ‚Üí stage (E2E) ‚Üí prod (canary/blue-green) ‚Üí post-deploy monitoring ‚Üí rollback –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç.¬ª

</p></details>
